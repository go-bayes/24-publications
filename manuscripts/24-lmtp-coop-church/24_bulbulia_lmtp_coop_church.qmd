---
title: "The Causal Effects of Religious Service Attendance on Prosocial Behaviours in New Zealand: A National Longitudinal Study"
abstract: |
  We investigate the causal effects of religious service attendance on prosocial behaviours using longitudinal data from a nationally representative sample of 33,198 New Zealanders collected between 2018 and 2021. Our study innovates in three ways: (1) we use longitudinal rather than cross-sectional data; (2) we incorporate measures of help received alongside self-reported giving; and (3) our statistical models are designed to address causal questions, rather than simply to describe change over time. We model causal contrasts for three hypothetical interventions—increasing, decreasing, or maintaining religious service attendance—and assess their effects on eight distinct prosocial domains. Study 1 focuses on self-reported charitable donations and volunteering. Studies 2 and 3 examine receiving help—both personal and financial—from family, friends, and the wider community, using novel measures of prosociality in this context. Across all analyses, we find that the causal effects of religious attendance are notably smaller than cross-sectional associations suggest. However, even modest increases in regular attendance would result in charitable donations equivalent to approximately 4% of the New Zealand Government’s annual spending—a considerable public benefit. By applying robust causal inference techniques, our study not only provides insights that can inform public policy about the social functions of religious participation but also advances a methodological framework for studying cultural practices and their social consequences.


  **KEYWORDS**: *Causal Inference*; *Charity*; *Church*; *Cooperation*; *Cross-validation*; *DAGs*; *Longitudinal*; *Machine Learning*; *Religion*; *Semi-parametric*; *Targeted Learning*; *TMLE*; *Volunteering*.
  
author: 
  - name: Joseph A. Bulbulia
    affiliation: Victoria University of Wellington, New Zealand
    orcid: 0000-0002-5861-2056
    email: joseph.bulbulia@vuw.ac.nz
    corresponding: yes
  - name: Don E Davis
    affiliation: Georgia State University, Matheny Center for the Study of Stress, Trauma, and Resilience
    orcid: 0000-0003-3169-6576 
  - name: Kenneth G. Rice
    affiliation: Georgia State University, Matheny Center for the Study of Stress, Trauma, and Resilience
    orcid: 0000-0002-0558-2818
  - name: Chris G. Sibley
    affiliation: School of Psychology, University of Auckland
    orcid: 0000-0002-4064-8800
  - name: Geoffrey Troughton
    affiliation: School of Social and Cultural Studies, Victoria University of Wellington
    orcid: 0000-0001-7423-0640
keywords: [Use, use]
editor_options: 
  chunk_output_type: console
format:
  docx:
   default: false
  pdf:
    pdf-engine: lualatex
    sanitise: true
    keep-tex: true
    link-citations: true
    colorlinks: true
    documentclass: article
    classoption: [single column]
    lof: false
    lot: false
    geometry:
      - top=30mm
      - left=25mm
      - heightrounded
      - headsep=22pt
      - headheight=11pt
      - footskip=33pt
      - ignorehead
      - ignorefoot
    template-partials: 
      - /Users/joseph/GIT/templates/quarto/title.tex
    header-includes:
      - \input{/Users/joseph/GIT/latex/latex-for-quarto.tex}
date: last-modified
execute:
  echo: false
  warning: false
  include: false
  eval: true
fontfamily: libertinus
bibliography: /Users/joseph/GIT/templates/bib/references.bib
csl: /Users/joseph/GIT/templates/csl/camb-a.csl
---


```{r}
#| label: load-libraries
#| echo: false
#| include: false
#| eval: true


## WARNING SET THIS PATH TO YOUR DATA ON YOUR SECURE MACHINE. 
# pull_path <-
#   fs::path_expand(
#     #"/Users/joseph/v-project\ Dropbox/Joseph\ Bulbulia/00Bulbulia\ Pubs/DATA/nzavs_refactor/nzavs_data_23"
#     "/Users/joseph/Library/CloudStorage/Dropbox-v-project/Joseph\ Bulbulia/00Bulbulia\ Pubs/DATA/nzavs-current/r-data/nzavs_data_qs"
#   )
# 
print(sessionInfo())
print(search())


push_mods <-  fs::path_expand(
  "/Users/joseph/Library/CloudStorage/Dropbox-v-project/data/nzvs_mods/24/church-prosocial-v7"
)




#tinytext::tlmgr_update()


# WARNING:  COMMENT THIS OUT. JB DOES THIS FOR WORKING WITHOUT WIFI
#source("/Users/joseph/GIT/templates/functions/libs2.R")
# # WARNING:  COMMENT THIS OUT. JB DOES THIS FOR WORKING WITHOUT WIFI
# source("/Users/joseph/GIT/templates/functions/funs.R")


#ALERT: UNCOMMENT THIS AND DOWNLOAD THE FUNCTIONS FROM JB's GITHUB


# source(
#   "https://raw.githubusercontent.com/go-bayes/templates/main/functions/experimental_funs.R"
# )
# 
# source(
#   "https://raw.githubusercontent.com/go-bayes/templates/main/functions/funs.R"
# )


# check path:is this correct?  check so you know you are not overwriting other directors
#push_mods


# for latex graphs
# for making graphs
library("tinytex")
library("extrafont")
library("tidyverse")
library("kableExtra")


loadfonts(device = "all")


## Read in data from analysis 
# imports
n_participants <- readRDS(here::here(push_mods, "n_participants"))
n_total <-  margot::here_read("n_total")


# make pretty number




n_participants<- prettyNum(n_participants,big.mark=",")
n_total<- prettyNum(n_total,big.mark=",")






# propensity score graph 
love_plot_one <- margot::here_read("love_plot_one")
# love_plot


# # summary of matching
# summary_match_ebal_base <- margot::here_read("summary_match_ebal")
# # summary_match_ebal$summary_match_ebal_base
# 
# summary_match_ebal <- margot::here_read("summary_match_ebal")
# summary_match_ebal$effective.sample.size


# verify positivity 
#church
transition_table <- margot::here_read("transition_table")
#transition_table
# binary
transition_table_binary_gain <- margot::here_read("transition_table_binary_gain")
transition_table_binary_zero <- margot::here_read("transition_table_binary_zero")


#transition_table_binary
# 
# # ordinary regressions
fit_church_on_hours_charity<- margot::here_read('fit_church_on_hours_charity')
fit_church_on_charity_donate<-margot::here_read('fit_church_on_charity_donate')




# fit_church_on_community_time_binary<- margot::here_read('fit_church_on_community_time_binary')
# fit_church_on_community_money_binary<- margot::here_read('fit_church_on_community_money_binary')
library(gtsummary)
library(glue)
library(margot)


# lm_fit_church_on_hours_charity <- tbl_regression(fit_church_on_hours_charity)
# 
# # 
#b_church_on_hours_charity <-inline_text(lm_fit_church_on_hours_charity,
                                        # variable = religion_church_round,
                                        # pattern = "b = {estimate}; (95% CI {conf.low}, {conf.high})")
#b_church_on_hours_charity
# here_save(b_church_on_hours_charity, "b_church_on_hours_charity")


b_church_on_hours_charity<-margot::here_read("b_church_on_hours_charity")


# 
# 
#lm_coef_fit_church_on_charity_donate <- tbl_regression(fit_church_on_charity_donate)
#b_church_on_charity_donate <-inline_text(lm_coef_fit_church_on_charity_donate, variable = religion_church_round, pattern = "b = {estimate}; (95% CI {conf.low}, {conf.high})")
# # 
#b_church_on_charity_donate
#here_save(b_church_on_charity_donate, "b_church_on_charity_donate")
b_church_on_charity_donate<-margot::here_read("b_church_on_charity_donate")
#b_church_on_charity_donate


#push_mods
# # lm_coef_fit_church_on_community_time_binary <- tbl-regression(fit_church_on_community_time_binary)
# # b_church_on_community_time_binary <-inline_text(lm_coef_fit_church_on_community_time_binary, variable = religion_church_round, pattern = "b = {estimate}; (95% CI {conf.low}, {conf.high})")
# # 
# # here_save(b_church_on_community_time_binary, "b_church_on_community_time_binary")
# b_church_on_community_time_binary<-margot::here_read("b_church_on_community_time_binary")
# #b_church_on_community_time_binary
# 
# # lm_coef_fit_church_on_community_money_binary <- tbl-regression(fit_church_on_community_money_binary)
# # b_church_on_community_money_binary <-inline_text(lm_coef_fit_church_on_community_money_binary, variable = religion_church_round, pattern = "b = {estimate}; (95% CI {conf.low}, {conf.high})")
# # 
# # here_save(b_church_on_community_money_binary, "b_church_on_community_money_binary")
# b_church_on_community_money_binary<-margot::here_read("b_church_on_community_money_binary")
# 


library(margot)
library(glue)
library(tidyverse)
# works but not used
#testlm_coef_church_on_donate <- glue("b = {fit_church_on_donate_x[2, 1]}, SE = {fit_church_on_donate_x[2, 3]}")
# not this table is too long in most instance 
# table_baseline<-margot::here_read("table_baseline")


# baseline
table_baseline <-margot::here_read("table_baseline")
table_exposures <-margot::here_read("table_exposures")
table_outcomes <-margot::here_read("table_outcomes")
# density of the exposure 
graph_density_of_exposure_up<-margot::here_read("graph_density_of_exposure_up")
graph_density_of_exposure_down<-margot::here_read("graph_density_of_exposure_down")
graph_density_of_exposure_both<-margot::here_read("graph_density_of_exposure_both")




# examples
mean_volunteer <- margot::here_read("mean_volunteer")


# sample mean at end of study (won't be population mean)
mean_donations <- margot::here_read("mean_donations")


#n_participants
# read standard deviations units of outcome (volunteering/donations) in 2020
sd_donations <- margot::here_read("sd_donations")
sd_volunteer <- margot::here_read("sd_volunteer")


# import models


# population mean
t2_charity_donate_z_null <- margot::here_read("t2_charity_donate_z_null")


# individual models
t2_charity_donate_z_zero <- margot::here_read("t2_charity_donate_z_zero")
t2_charity_donate_z_gain <- margot::here_read("t2_charity_donate_z_gain")
t2_hours_charity_z_gain <-  margot::here_read("t2_hours_charity_z_gain")
t2_hours_charity_z_zero <- margot::here_read("t2_hours_charity_z_zero")
t2_hours_charity_z_null<- margot::here_read("t2_hours_charity_z_null")






# results
# import to manuscript -------------------------------------------------------


tab_all_prosocial <- margot::here_read("tab_all_prosocial")
tab_all_prosocial_null <- margot::here_read("tab_all_prosocial_null")
tab_all_prosocial_null_zero <- margot::here_read("tab_all_prosocial_null_zero")
tab_all_prosocial
tab_all_prosocial_null
tab_all_prosocial_null_zero




group_tab_all_prosocial<- margot::here_read("group_tab_all_prosocial")
group_tab_all_prosocial_null<- margot::here_read("group_tab_all_prosocial_null")
group_tab_all_prosocial_null_zero<- margot::here_read("group_tab_all_prosocial_null_zero")


group_tab_all_prosocial
group_tab_all_prosocial_null
group_tab_all_prosocial_null_zero




tab_received_time <- margot::here_read( "tab_received_time")
tab_received_time_null <- margot::here_read( "tab_received_time_null")
tab_received_time_null_zero <- margot::here_read( "tab_received_time_null_zero")
push_mods


group_tab_received_time <- margot::here_read( "group_tab_received_time")
group_tab_received_time_null <- margot::here_read( "group_tab_received_time_null")
group_tab_received_time_null_zero <- margot::here_read( "group_tab_received_time_null_zero")


tab_received_time
group_tab_received_time
group_tab_received_time


tab_all_received_money <- margot::here_read( "tab_all_received_money")
tab_all_received_money_null <- margot::here_read( "tab_all_received_money_null")
tab_all_received_money_null_zero <- margot::here_read( "tab_all_received_money_null_zero")




group_tab_all_received_money <- margot::here_read( "group_tab_all_received_money")
group_tab_all_received_money_null <- margot::here_read( "group_tab_all_received_money_null")
group_tab_all_received_money_null_zero <- margot::here_read( "group_tab_all_received_money_null_zero")


# Compute for manuscript
diff_charity <- round( ( sd_donations *  tab_all_prosocial[1,1]), 2)
diff_volunteer <- round(  60 * (sd_volunteer *  tab_all_prosocial[2,1]), 2)


loss_charity <- round( ( sd_donations *  tab_all_prosocial_null_zero[1,1]), 2)
loss_volunteer <- round(  60 * (sd_volunteer *  tab_all_prosocial_null_zero[2,1]), 2)




# make pretty numbers for prosocial outcomes
diff_charity<- prettyNum(diff_charity,big.mark=",")
diff_volunteer <- prettyNum(diff_volunteer,big.mark=",")
loss_charity <- prettyNum(loss_charity,big.mark=",")
loss_volunteer <- prettyNum(loss_volunteer,big.mark=",")


charity_null <- round( ( sd_donations * tab_all_prosocial_null[1,1]), 2)
charity_null<- prettyNum(charity_null,big.mark=",")
volunteer_null <- round( sd_volunteer * tab_all_prosocial_null[2,1] * 60, 2)
volunteer_null<- prettyNum(volunteer_null,big.mark=",")


charity_null_zero <- round( ( sd_donations * tab_all_prosocial_null_zero[1,1]), 2)
charity_null_zero <- prettyNum(charity_null_zero,big.mark=",")
volunteer_null_zero <- round( sd_volunteer * tab_all_prosocial_null_zero[2,1] * 60, 2)
volunteer_null_zero<- prettyNum(volunteer_null_zero,big.mark=",")


# read data
df_wide_censored <- margot::here_read("df_wide_censored")
# graphs ------------------------------------------------------------------
title = "Weekly Religious Service vs. No Religious Service"
title_null = "Weekly Religious Service vs. Status Quo"
title_null_zero = "No Religious Service vs. Status Quo"
group_tab_all_prosocial
head(df_wide_censored)
plot_group_tab_all_prosocial <- margot::margot_plot(
  tab_all_prosocial,
  original_df = df_wide_censored,
  type = "RD",
  title = title,
  # subtitle = "Self-Reported Prosociality",
  estimate_scale = 3,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 14,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset = -.15,
  x_lim_lo = -.5,
  x_lim_hi =  .5
)




plot_group_tab_all_prosocial_null <- margot::margot_plot(
  tab_all_prosocial_null,
original_df = df_wide_censored, 
  type = "RD",
  title = title_null,
  # subtitle = "Self-Reported Prosociality",
  estimate_scale = 3,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 14,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset = -.15,
  x_lim_lo = -.5,
  x_lim_hi =  .5
)


plot_group_tab_all_prosocial_null




plot_group_tab_all_prosocial_null_zero <- margot::margot_plot(
  tab_all_prosocial_null_zero,
  original_df = df_wide_censored, 
  type = "RD",
  title = title_null_zero,
  # subtitle = "Self-Reported Prosociality",
  #"Self-Reported Prosociality",
  estimate_scale = 3,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 14,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset = -.15,
  x_lim_lo = -.5,
  x_lim_hi =  .5
) 


plot_group_tab_all_prosocial_null_zero


# ggsave(
#   plot_group_tab_all_prosocial_null_zero,
#   path = here::here(here::here(push_mods)),
#   width = 16,
#   height = 9,
#   units = "in",
#   filename = "plot_group_tab_all_prosocial_null_zero.png",
#   device = 'png',
#   limitsize = FALSE,
#   dpi = 300
# )






# pathwork
library(patchwork)
library(ggplot2)
plot_group_tab_all_prosocial
study_1 <- plot_group_tab_all_prosocial$plot /
plot_group_tab_all_prosocial_null$plot/
  plot_group_tab_all_prosocial_null_zero$plot + 
  plot_annotation(title = "Study 1: Self-Reported Prosociality", tag_levels = 'A',
             theme = theme(plot.title = element_text(size = 16, face = "bold")))

ggsave(
  study_1,
  filename = "figure_study_1.png",
  width = 10,
  height = 14,
  device = 'png',
  limitsize = FALSE,
  dpi = 600,
  units = "in",
  path = here::here(here::here(push_mods, "figs")),
)



tab_received_time
plot_group_tab_all_received_time <- margot::margot_plot(
  tab_received_time,
    original_df = df_wide_censored, 
  type = "RR",
  title = title,
  # subtitle = "Support Received From Others: Time",
  estimate_scale = 6,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 16,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset =  0,
  x_lim_lo = -.05,
  x_lim_hi =  2
)
plot_group_tab_all_received_time




plot_group_tab_all_received_time_null <- margot::margot_plot(
  tab_received_time_null,
    original_df = df_wide_censored, 
  type = "RR",
  title = title_null,
  # subtitle = "Support Received From Others: Time",
  estimate_scale = 6,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 16,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset =  0,
  x_lim_lo = -.05,
  x_lim_hi =  2
)


plot_group_tab_all_received_time_null




plot_group_tab_all_received_time_null_zero <- margot::margot_plot(
  tab_received_time_null_zero,
    original_df = df_wide_censored, 
  type = "RR",
  title = title_null_zero,
  # subtitle = "Support Received From Others: Time",
  estimate_scale = 6,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 16,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset =  0,
  x_lim_lo = -.05,
  x_lim_hi =  2
)


plot_group_tab_all_received_time_null_zero




study_2 <- plot_group_tab_all_received_time$plot /
plot_group_tab_all_received_time_null$plot/
  plot_group_tab_all_received_time_null_zero$plot + 
  plot_annotation(title = "Study 2: Relative Risk of Help Received Last Week: Time", tag_levels = 'A',
                  theme = theme(plot.title = element_text(size = 16, face = "bold")))
study_2


ggsave(
  study_2,
  filename = "figure_study_2.png",
  width = 10,
  height = 14,
  device = 'png',
  limitsize = FALSE,
  dpi = 600,
  units = "in",
  path = here::here(here::here(push_mods, "figs")),
)






plot_group_tab_all_received_money<- margot::margot_plot(
  group_tab_all_received_money,
    original_df = df_wide_censored, 
  type = "RR",
  title = title,
  # subtitle = "Support Received From Others: Money",
  estimate_scale = 6,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 16,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset =  0,
  x_lim_lo = -.05,
  x_lim_hi =  2
)
plot_group_tab_all_received_money




plot_group_tab_all_received_money_null <- margot::margot_plot(
  tab_all_received_money_null,
      original_df = df_wide_censored, 
  type = "RR",
  title = title_null,
  # subtitle = "Support Received From Others: Money",
  estimate_scale = 6,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 16,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset =  0,
  x_lim_lo = -.05,
  x_lim_hi =  2
)


plot_group_tab_all_received_money_null




plot_group_tab_all_received_money_null_zero <- margot::margot_plot(
  tab_all_received_money_null_zero,
    original_df = df_wide_censored, 
  type = "RR",
  title = title_null_zero,
  # subtitle = "Support Received From Others: Money",
  estimate_scale = 6,
  base_size = 14,
  text_size = 4,
  point_size = 2,
  title_size = 12,
  subtitle_size = 16,
  legend_text_size = 10,
  legend_title_size = 10,
  x_offset =  0,
  x_lim_lo = -.05,
  x_lim_hi =  2
)


plot_group_tab_all_received_money_null_zero




study_3<- plot_group_tab_all_received_money$plot /
plot_group_tab_all_received_money_null$plot/
  plot_group_tab_all_received_money_null_zero$plot + 
  plot_annotation(title = "Study 3: Relative Risk of Help Received Last Week: Money", tag_levels = 'A',
                  theme = theme(plot.title = element_text(size = 16, face = "bold")))
study_3

ggsave(
  study_3,
  filename = "figure_study_3.png",
  width = 10,
  height = 14,
  device = 'png',
  limitsize = FALSE,
  dpi = 600,
  units = "in",
  path = here::here(here::here(push_mods, "figs")),
)





### Regressions




contrast_charity <-
  lmtp::lmtp_contrast(t2_charity_donate_z_gain , ref =  t2_charity_donate_z_zero, type = "additive")
contrast_volunteer <-
  lmtp::lmtp_contrast(t2_hours_charity_z_gain , ref =  t2_hours_charity_z_zero, type = "additive")




b_church_on_hours_charity<-margot::here_read("b_church_on_hours_charity")
b_church_on_charity_donate<-margot::here_read("b_church_on_charity_donate")


#b_church_on_hours_charity


fit_church_on_hours_charity<-margot::here_read("fit_church_on_hours_charity")
fit_church_on_hours_charity
fit_church_on_charity_donate<-margot::here_read("fit_church_on_charity_donate")
fit_church_on_charity_donate


# community time
b_church_on_community_time_binary_exp_false <- here_read("b_church_on_community_time_binary_exp_false")




regression_regular_church_charity <- round( (fit_church_on_charity_donate$coefficients[2]  *  4.2), 2) # monthly
regression_regular_church_charity


regression_regular_church_volunteer_minutes <- round( (fit_church_on_hours_charity$coefficients[2]  *  4.2  * 60), 2) # monthly
regression_regular_church_volunteer_minutes


# donate data scale 
donate_lmtp <- round( contrast_charity$vals$theta* sd_donations, 2)
donate_lmtp
# voluneer_data scale
volunteer_lmtp_mins = round( (contrast_volunteer$vals$theta * sd_volunteer * 60), 2)
volunteer_lmtp_mins
# perc greater


percent_greater_regression_donate  <- round( (regression_regular_church_charity/donate_lmtp), 2) 
percent_greater_regression_volunteer <- round( (regression_regular_church_volunteer_minutes/volunteer_lmtp_mins), 2) 
percent_greater_regression_donate
percent_greater_regression_volunteer




## Ratio
t2_community_time_binary_gain <- here_read("t2_community_time_binary_gain")
t2_community_time_binary_zero <- here_read("t2_community_time_binary_zero")
t2_community_money_binary_gain<- here_read("t2_community_money_binary_gain")
t2_community_money_binary_zero <- here_read("t2_community_money_binary_zero")


contrast_community_time <-
  lmtp::lmtp_contrast(t2_community_time_binary_gain,
                ref =  t2_community_time_binary_zero,
                type = "rr")


community_time_rr <- contrast_community_time$vals$theta


contrast_community_money <-
  lmtp::lmtp_contrast(t2_community_money_binary_gain,
                ref = t2_community_money_binary_zero ,
                type = "rr")


community_money_rr <- contrast_community_money$vals$theta




fit_church_on_community_time_binary<- margot::here_read('fit_church_on_community_time_binary')
fit_church_on_community_money_binary<- margot::here_read('fit_church_on_community_money_binary')


community_time_risk_ratio <- round( exp( fit_church_on_community_time_binary$coefficients[2]  *  4.2 ), 3)
community_time_risk_ratio


community_money_risk_ratio <- round( exp( fit_church_on_community_money_binary$coefficients[2]  *  4.2 ), 3)
community_money_risk_ratio






percent_greater_rr_community_money  <- round( (community_money_risk_ratio/community_money_rr), 2) 
percent_greater_rr_community_time <- round( (community_time_risk_ratio/community_time_rr), 2) 


percent_greater_rr_community_money
percent_greater_rr_community_time


percent_greater_regression_volunteer <- round( (regression_regular_church_volunteer_minutes/volunteer_lmtp_mins), 2) 
percent_greater_regression_donate
percent_greater_regression_volunteer


b_church_on_community_time_binary_exp_false <- here_read("b_church_on_community_time_binary_exp_false")
b_church_on_community_money_binary_exp_false <- here_read("b_church_on_community_money_binary_exp_false")


b_church_on_community_time_binary_exp_true <- here_read("b_church_on_community_time_binary_exp_true")
b_church_on_community_money_binary_exp_true <- here_read("b_church_on_community_money_binary_exp_true")






# key values


b_church_on_community_time_binary_exp_false
b_church_on_community_money_binary_exp_false
percent_greater_rr_community_money
percent_greater_rr_community_time




# make pretty numbers
regression_regular_church_volunteer_minutes <- prettyNum(regression_regular_church_volunteer_minutes,big.mark=",")


# graphs
graph_density_of_exposure_both <- margot::here_read("graph_density_of_exposure_both")


# transition table
transition_table <- margot::here_read("transition_table")


# supplement
transition_table_binary_gain <-margot::here_read("transition_table_binary_gain")
transition_table_binary_zero <-margot::here_read("transition_table_binary_zero")
love_plot_one <- margot::here_read("love_plot_one")
table_baseline <- margot::here_read("table_baseline")
table_outcomes <-margot::here_read("table_outcomes")
table_exposures <-margot::here_read("table_exposures")




```




## Introduction


A central question in the scientific study of religion is whether religion fosters prosociality [@johnson2005; @norenzayan2016; @watts2016; @watts2015; @sosis2003cooperation; @whitehouse2023; @schloss2011evolutionary; @swanson1967; @decoulanges1903; @wheatley1971]. However, quantifying causal effects for religion presents significant challenges [@major2023exploring]. Investigators have limited scope to randomise supernatural beliefs, community worship, and personal prayer. On the other hand, valid causal inferences from non-experimental, "real world" data must combine high-resolution repeated-measures time-series data with robust methods for causal inference. Few studies meet this standard. A recent survey of the religion and prosociality literature reveals that nearly all non-experimental studies assessing links between prosociality and religion, including several longitudinal studies, are associational @kelly2024religiosity. Presently, studies using longitudinal (panel) data have yet to appropriately leverage their repeated measures to obtain reliable causal inferences.


<!-- An encouraging recent attempt to obtain valid causal inference is Major-Smith's investigation of the relationships between religious attendance, beliefs, and affiliation on blood donations among pregnant women and their partners in Bristol, United Kingdom, who participated in the Avon Longitudinal Study of Parents and Children, $N=13,477$ mothers and $N=13,424$ partners [@major2023exploring]. Major-Smith's study begins with a careful overview of the threats to causal inference from confounding and selection bias. A series of cross-sectional regression analyses observe associations between the stated features of religion and self-reported blood donations in this cohort. Unfortunately, because the outcome is a retrospective question asked during pregnancy about past blood donations, the analysis cannot capitalise on the time-series data of the Avon panel. There is neither control for baseline measures of religion variables (the treatments) nor for baseline blood donations (the outcome), and the study cannot evaluate outcomes after initiation into religious service or its cessation. Although cross-sectional associations can suggest causality, we cannot typically attach causal interpretations without strong assumptions about the order and timing of events [@vanderweele2021can]. Indeed, below we report an analysis restricted to baseline New Zealand Attitudes and Values Study data that observes a `r percent_greater_regression_donate` times overstatement of the monthly vs zero charitable donations causal contrast and a `r percent_greater_regression_volunteer` times overstatement of the monthly vs zero volunteering causal contrast. A virtue of @major2023exploring is that the study makes its causal assumptions explicit and provides sensitivity analysis to frame its results. These strategies should be adopted in any study that estimates causal effects, and we adopt these strategies here. -->


Here, to obtain causal inferences from time-series data, we leverage comprehensive panel data from `r n_participants` participants in the New Zealand Attitudes and Values Study from 2018-2021 and quantify the effects of clearly defined interventions in religious attendance across the population of New Zealanders assessed on eight outcome domains of charitable financial donations and volunteering. We obtain causal inferences by contrasting inferred population averages under different modified treatment policies [@haneuse2013estimation; @diaz2023lmtp; @díaz2021; @hoffman2023]. 


Our initial causal contrast investigates: "What would be the average difference across the New Zealand population if everyone attended religious services regularly (at least four times per month) versus if no one attended?" This theoretical question simulates a hypothetical experiment with random assignment to regular or non-attendance, emulating the scientifically interesting all/none contrast that is common in experimental designs [@hernán2016].


A second causal contrast investigates: "What would be the average difference across the New Zealand population if everyone attended religious services regularly compared with maintaining the status quo?" Here, we contrast regular religious service and New Zealand society as it was at the end of the study (2021) without modification. This causal contrast may inform practical policies relevant to non-regular attendees who might start.


Our third causal contrast examines: "What would be the average difference across the New Zealand population if no one attended religious services compared with the status quo?" Here, we contrast the loss of any religious service with New Zealand society as it was at the end of the study (2021), again without modification. This causal contrast may inform practical policies relevant to regular attendees who stop attending.


Although the set of causal contrasts analysts might consider is unbounded, those we have selected address these specific scientific and policy interests.


Note that our approach does not focus on testing specific hypotheses; instead, we aim to accurately and consistently compute our pre-specified causal contrasts [@hernan2024stating].


## Method


### Sample


Data were collected as part of the New Zealand Attitudes and Values Study (NZAVS), an annual longitudinal national probability panel assessing New Zealand residents’ social attitudes, personality, ideology, and health outcomes. The panel began in 2009 and has since expanded to include over fifty researchers, with responses from `r n_total` participants to date. The study operates independently of political or corporate funding and is based at a university. Data summaries for all measures used in this study are provided in **Supplemental Appendices B-D**. For more information about the NZAVS, see: [OSF.IO/75SNB](https://doi.org/10.17605/OSF.IO/75SNB). The data for this study were obtained from the NZAVS waves 10-12 cohort, covering 2018-2021. Although this cohort is a national probability sample, we weighted responses by New Zealand 2018 Census estimates (age, gender, ethnicity) to produce results that better reflect the New Zealand population. Information on these survey weights can be found in the NZAVS documentation, see: [OSF.IO/75SNB](https://doi.org/10.17605/OSF.IO/75SNB).


### Treatment Indicator


We assessed religious service attendance using the following question:


- *Do you identify with a religion and/or spiritual group? If yes, how many times did you attend a church or place of worship during the last month?*


Responses were rounded to the nearest whole number. Because few participants reported attending more than eight times, we capped responses above eight at eight (see Appendix B, variable `religion_church_round`). In the regular church service condition, we did not intervene on responses greater than four to reduce computational burdens during estimation.


### Measures of Prosociality


We assessed prosocial behaviour using the following measures:


**Study 1: Self-Reported Charity** 


Participants reported:


- Volunteering: 
  *Please estimate how many hours you spent doing each of the following things last week ... Volunteer/charitable work.* 
	
- Annual Charitable Financial Donations: 
  *How much money have you donated to charity in the last year?*


**Study 2: Help received from others in the last week: *time* **


Participants estimated the amount of help they received in the past week in hours from:


- *Family...TIME (hours)*
- *Friends...TIME (hours)*
- *Community...TIME (hours)*


Owing to high variability, we transformed responses into binary indicators: 0 = none; 1 = any.


**Study 3: Help received from others in the last week: *money* **


Similarly, participants were asked:


Participants estimated the monetary help they received in the past week from:


- *Family...MONEY (dollars)*
- *Friends...MONEY (dollars)*
- *Community...MONEY (dollars)*


Again, owing to high variability, responses were converted to binary indicators: 0 = none; 1 = any.


Note that Studies 2 and 3 employed revealed measures of prosocial exposure to minimise self-presentation bias. We assumed that if religious institutions foster prosociality, initiation into regular attendance—controlling for past attendance, baseline prosocial measures, and a range of demographic, personality, and health factors—would increase exposure to prosocial behaviours. Focusing on help received makes these measures less susceptible to self-presentation biases that could otherwise confound associations between religious attendance and prosocial indicators. Including baseline outcomes and treatments in our analyses mitigates the threat of undirected correlated errors.


Comprehensive details of all measures are provided in **Supplement: Appendix A**.


### Causal Interventions




We defined three targeted causal contrasts based on prespecified modified treatment policies:


1.	Regular Religious Service Treatment: a scenario where everyone attends religious services regularly. For individuals attending less than four times per month, their attendance was shifted to four; those already attending four or more times per month remained unchanged.
2.	Zero Religious Service Treatment: a scenario where no one attends religious services. For individuals attending more than zero times per month, their attendance was shifted to zero; those already not attending remained unchanged.
3.	Status Quo—No Treatment: use each individual’s observed level of religious service attendance without any modification.
	


<!-- We define three targeted causal contrasts (*causal estimands*) as interventions on prespecified modified treatment policies (refer to @haneuse2013estimation; @diaz2021nonparametric; @diaz2023lmtp). There are three measurement intervals $k = \{0,1,2\}$. Baseline indicators of the treatment obtained from $k = 0$ are included for confounding control. $A_1$ denotes the natural level of the treatment, measured at $k = 1$—monthly frequency of religious service. Outcome indicators are obtained from $k = 2$—the end of the study. $\mathbf{\tilde{g}}(A_i)$ denotes a modified treatment policy, where $A^+_1\mathbf{\tilde{g}}(A_i = a_1)$ is the level to which $A_i$ is set according to a policy function $\mathbf{\tilde{g}}$. Under modified treatment policies, the natural value of the treatment may be a confounder. However, because we estimate the causal effects of point interventions, there is no additional threat of confounding for modified treatment policies in this study. -->


<!-- 1. **Regular Religious Service Treatment**: Administer regular religious service attendance to everyone in the adult population. If an individual's religious service attendance is below four times per month, shift to four; otherwise, maintain their current attendance: -->


<!-- $$ -->
<!-- \mathbf{g}^\lambda (A_i) = \begin{cases}  -->
<!-- 4 & \text{if } A_i < 4 \\  -->
<!-- A_i & \text{otherwise}  -->
<!-- \end{cases} -->
<!-- $$ -->


<!-- 2. **Zero Religious Service Treatment**: Ensure no religious service attendance for everyone in the adult population of New Zealand. If an individual's religious service attendance is greater than zero, shift to zero; otherwise, make no change: -->


<!-- $$ -->
<!-- \mathbf{g}^\phi (A_i) = \begin{cases}  -->
<!-- 0 & \text{if } A_i > 0 \\  -->
<!-- A_i & \text{otherwise}  -->
<!-- \end{cases} -->
<!-- $$ -->


<!-- 3. **Status Quo—No Treatment**: Apply no treatment. Each expected mean outcome is calculated using each individual's natural (observed) value of religious service attendance: -->


<!-- $$ -->
<!-- \mathbf{g}(A_i) = A_i -->
<!-- $$ -->


### Causal Contrasts




Based on these policies, we computed three causal contrasts:


1.	Regular vs. Zero Attendance: this contrast compares average prosocial outcomes in a society where everyone attends religious services regularly to one where no one attends. It simulates a hypothetical experiment where individuals are randomised to either regular attendance or no attendance, allowing us to assess differences in prosociality one year after the intervention.
2.	Regular Attendance vs. Status Quo: this contrast compares average prosocial outcomes in a society where everyone attends religious services regularly to the current state. It contrasts the causal effect of transitioning non-regular attendees to regular attendance.
3.	Zero Attendance vs. Status Quo: this contrast compares average prosocial outcomes where no one attends religious services to the current state. It examines the causal effect of eliminating religious service attendance entirely.
	


<!-- **Target Contrast A: 'Regular vs. Zero'**: How do the prosocial effects of a society with regular religious service attendance differ from those of a society with zero religious service attendance? -->


<!-- $$  -->
<!-- \text{Regular Religious Service vs. Zero Religious Service} = E[Y(\mathbf{g}^\lambda) - Y(\mathbf{g}^\phi)]  -->
<!-- $$ -->


<!-- This contrast simulates a scientifically interesting hypothetical experiment where we could randomise individuals to either regular religious service or none, assessing the differences in prosociality outcomes measured one year after the intervention. -->


<!-- **Target Contrast B: 'Regular vs. Status Quo'**: How does a society with regular religious service attendance compare to its status quo? -->


<!-- $$  -->
<!-- \text{Regular Religious Service vs. No Treatment} = E[Y(\mathbf{g}^\lambda) - Y(\mathbf{g})]  -->
<!-- $$ -->


<!-- This contrast reflects a policy-relevant hypothetical experiment examining the effect of transitioning to regular religious service if one does not regularly attend. It allows us to quantitatively assess how much a society in which everyone attends would differ from a society in its current state. -->


<!-- **Target Contrast C: 'Zero vs. Status Quo'**: What are the social consequences for society of zero religious service attendance compared to its status quo? -->


<!-- $$  -->
<!-- \text{Zero Religious Service vs. No Treatment} = E[Y(\mathbf{g}^\phi) - Y(\mathbf{g})]  -->
<!-- $$ -->


<!-- This contrast investigates the policy implications of eliminating religious services entirely, questioning whether such a shift would meaningfully affect average levels of charitable donations and volunteering. -->


### Identification Assumptions


To consistently estimate a causal effect, investigators must satisfy three assumptions (refer to @bulbulia2023):




1.	Causal Consistency: potential outcomes correspond to the observed outcomes under the treatments in our data. We assume that conditional on measured covariates, potential outcomes do not depend on how the treatment was administered [@vanderweele2009; @vanderweele2013].


2.	Conditional Exchangeability: conditional on observed covariates, treatment assignment is independent of the potential outcomes being compared (i.e. there is no unmeasured confounding) [@hernan2024WHATIF; @chatton2020].


3.	Positivity: every individual has a non-zero probability of receiving each treatment level, regardless of their covariate values. We evaluated this by examining changes in religious service attendance from baseline to the treatment wave [@westreich2010].


### Target Population


Our target population comprises New Zealand residents represented in the baseline wave of the NZAVS during 2018–2019, weighted by 2018 New Zealand Census data for age, gender, and ethnicity [@sibley2021]. Although the NZAVS is a national probability study designed to reflect the broader New Zealand population, it tends to under-sample males and individuals of Asian descent and over-sample females and Māori (the indigenous people of New Zealand). To address these disparities and enhance the accuracy of our findings, we applied survey weights adjusting for age, gender, and ethnicity. Survey weights were integrated into our statistical models using the weights option in `lmtp` [@williams2021], following protocols described in @bulbulia2024PRACTICAL.  Note that the sample in this study is a single cohort, enrolled in the New Zealand Attitudes and Values Study in NZAVS wave 10 and NZAVS wave 11, and which may have been lost-to-follow up in NZAVS wave 12.


### Eligibility Criteria


Participants were included in the analysis if they:


1. Were enrolled in the 2018 wave of the NZAVS (Time 10).
2. Provided responses to the religious service attendance question at both Time 10 (baseline) and Time 11 (treatment wave).


Participants with missing covariate data at baseline were included, with missing data imputed using information available at baseline. Participants may have been lost to follow-up by the end of the study (Time 12); we adjusted for attrition and non-response using censoring weights, as described below.


A total of `r n_participants` individuals met these criteria and were included in the study.




### Missing Data


We adopted the following strategies for handling missing data:

**Baseline Missingness:**: we used the predictive mean matching algorithm from the mice package in R [@vanbuuren2018] to impute missing baseline data (<2% of covariate values). We performed single imputation, using only baseline data for imputation [@zhang2023shouldMultipleImputation].

**Outcome Missingness:** to account for confounding and selection bias from missing responses and panel attrition, we applied censoring weights obtained using nonparametric machine learning ensembles via the `lmtp` package in R [@williams2021].




### Confounding Control


To address confounding, we employ a modified disjunctive cause criterion [@vanderweele2019], which involves:


1.	Identifying all common causes of both the treatment and outcomes.
2.	Excluding instrumental variables that affect the exposure but not the outcome.
3.	Including proxies for unmeasured confounders affecting both exposure and outcome.
4.	Controlling for baseline exposure and baseline outcome, serving as proxies for unmeasured common causes [@vanderweele2020].


The covariates included for confounding control are detailed in [Appendix B](#appendix-demographics). These methods adhere to the guidelines provided in [@bulbulia2024PRACTICAL] and were pre-specified in our study protocol [https://osf.io/ce4t9/](https://osf.io/ce4t9/). 




@fig-dag presents a causal diagram of our identification strategy. The graphs are labelled $\mathcal{G}_{x}$, where $x$ corresponds to a numbered row in the figure.


@fig-dag $\mathcal{G}_1$ clarifies that by including measures of the baseline treatment and baseline exposure, along with all common causes, any unmeasured confounding would need to be orthogonal to these baseline measurements (refer to @vanderweele2020). However, because treatments have not been randomised, the threat of orthogonal confounding persists. Specific threats are presented in $\mathcal{G}_1-\mathcal{G}_{10}$. As described below, we address these threats by reporting sensitivity analyses that clarify how much unmeasured confounding would be necessary to explain results away. 


@fig-dag $\mathcal{G}_2$ shows that if a confounder is measured in the treatment wave ($L_1$), and it is known that this confounder cannot be affected by the treatment, we should adjust for it in our model.


In contrast, @fig-dag $\mathcal{G}_3$ presents the threat of mediator bias. Since the treatment and confounders are measured simultaneously in each wave, including confounders measured in the treatment wave may bias results. To avoid such biases, we included restricted confounders in our model to those measured in the baseline wave. We performed sensitivity analyses to address the worry of orthogonal confounding given in @fig-dag $\mathcal{G}_2$.


@fig-dag $\mathcal{G}_4$ presents examples of over-conditioning bias, which occurs when a baseline variable that is not a confounder is included but becomes a confounder when conditioned upon. To avoid such biases, we used theory to construct our set of confounders, following VanderWeele’s modified disjunctive cause criterion [@vanderweele2019].


@fig-dag $\mathcal{G}_5$ and $\mathcal{G}_6$ present threats to valid inference arising from attrition. For example, if changes in religious status affect whether a participant stays in the study, or if there is a common cause of treatment and outcome in the censored data, our causal effect estimates may be biased.


@fig-dag $\mathcal{G}_7$ - $\mathcal{G}_{10}$ present threats to valid causal inference from measurement error. If the errors in the treatment and outcome are uncorrelated ($\mathcal{G}_7$), the results will not generally be biased (though see @bulbulia2024wierd). However, if there is a common cause of bias in reporting both religious service attendance and charitable giving/volunteering (correlated errors, $\mathcal{G}_8$), or if increasing/decreasing religious service affects the error in reporting charitable giving or volunteering (directed error, $\mathcal{G}_9$), or both ($\mathcal{G}_{10}$), causal effect estimates may be biased. Again, sensitivity analysis helps clarify the robustness of our results to these biases. For a primer on causal graphs, see [@hernan2024WHATIF; @suzuki2020; @bulbulia2023; @bulbulia2024wierd]. We reconsider the implications of measurement errors in the discussion.




::: {#fig-dag}

![Figure 1](table-of-figures-1.png)
Causal diagrams showing sources of bias in a three wave panel study.
:::


<!-- @fig-dag presents three Single World Intervention Graphs (SWIGs) that describe our identification strategy. We follow [@richardson2013]'s convention for explicitly representing a conditional treatment intervention using Single World Intervention Graphs (SWIGs). Refer to [@richardson2023potential; @richardson2013; @robins2010alternative; @richardson2013swigsprimer; @shpitser2016causal; @richardson2023potential]. On modified treatment policies refer to [@diaz2012population; @richardson2013; @young2014identification; @diaz2021nonparametric; @bulbulia2024swigstime]. -->




### Statistical Estimation


We used Targeted Minimum Loss-based Estimation (TMLE) to estimate causal effects while providing valid statistical uncertainty measures [@van2014targeted; @van2012targeted]. Here, we use an implementation of TMLE that uses machine learning algorithms to produce efficient statistical estimates for features of the data relevant to our causal estimands.  These algorthims do not make assumptions about the distributions of the data and are able to learn efficiently even in the presence of high-dimensional data such as ours.

We used the `lmtp` package in R [@williams2021] for estimation, employing the `SuperLearner` library with predefined algorithms `SL.ranger`, `SL.glmnet`, and `SL.xgboost` [@polley2023; @xgboost2023; @Ranger2017].We used 10-fold cross-validation so that data from which the models  were trained were never the same data on which the models were tested. We produced graphs, tables, and output reports using the margot package [@margot2024].


### Sensitivity Analysis Using the E-value


To assess the robustness of our results to unmeasured confounding, we report VanderWeele and Ding’s "E-value" in all analyses [@vanderweele2017]. The E-value quantifies the minimum strength of association, on the risk ratio scale, that an unmeasured confounder would need to have with both the exposure and the outcome -- after considering all measured covariates --  to explain away the observed exposure–outcome association [@vanderweele2020; @linden2020EVALUE]. We used the bound of the E-value 95% confidence interval closest to 1 to evaluate the strength of evidence. We note that the E-value presents an approximation of confounding risk. 


### Scope of Interventions


To illustrate the magnitude of the interventions, we present histograms (See @fig-hist) showing the distribution of religious service attendance during the treatment wave. In @fig-hist *A*, the intervention for regular religious service affects a larger portion of the sample than the zero religious service intervention depicted in Figure @fig-hist *B*. The ‘Regular vs. Zero’ comparison addresses the question: what is the difference in effects between a society where religious service is universal compared to one in which religious service it is completely absent?




```{r}
#| label: fig-hist
#| fig-cap: "This figure shows a histogram of responses to religious service frequency in the baseline + 1 wave. Responses above eight were assigned to eight, and values were rounded to the nearest whole number. The red dashed line shows the population average. (A) Responses in the gold bars are shifted to four on the Regular Religious Service intervention. All those responses in grey (four and above) remain unchanged. (B) On the zero-intervention, responses in the blue bars denote those shifted under the zero-intervention treatment."
#| fig-width: 10
#| fig-height: 12
#| echo: false
#| include: true
#| eval: true


graph_density_of_exposure_both
```
{{< pagebreak >}}


### Changes in Religious Service Attendance


@tbl-transition shows the transitions in religious service attendance from baseline to the treatment wave. Assessing changes in the treatment variable is essential for evaluating the positivity assumption of causal inference, which, as stated above,  requires that every individual has a non-zero probability of receiving each treatment level, regardless of their covariate values [@vanderweele2020; @danaei2012; @hernan2024WHATIF]. Although causal inference does not rely on the assumption that every combination of covariate and exposure is realised, where such observations are absent, stronger modelling assumptions are required. @tbl-transition clarifies the overall frequency of state transitions in the data.  We observe that attendance levels at 0 (no attendance) and 4 (weekly attendance) were the most common, and furthermore that there was indeed change in attendance over time.  That is, at the population level, we find changes in reported attendance between the baseline wave and the exposure wave occurred in the data.


```{r}
#| label: tbl-transition
#| tbl-cap: "This transition matrix captures stability and change in religious service between the baseline and treatment wave. Each cell in the matrix represents the count of individuals transitioning from one state to another. The rows correspond to the state at baseline (From), and the columns correspond to the state at the treatment wave (To). **Diagonal entries** (in **bold**) signify the number of individuals who remained in their initial state across both waves. **Off-diagonal entries** signify the transitions of individuals from their baseline state to a different state in the treatment wave. A higher number on the diagonal relative to the off-diagonal entries in the same row indicates greater stability in a state. Conversely, higher off-diagonal numbers suggest more frequent shifts in the sample from the baseline state to other states."
#| echo: false
#| include: true
#| eval: true


transition_table$table
```


{{< pagebreak >}}




## Results


## Results


### Study 1: Causal Effects of Regular Church Attendance on Self-Reported Volunteering and Self-Reported Volunteering and Donations


#### Regular Religious Service vs. Zero Treatment Contrast for Donations and Volunteering


Results for the treatment contrasts between Regular Religious Service and Zero Religious Service, focusing on self-reported volunteering and charitable donations, are displayed in @fig-1_1 *A* and @tbl-1_1. These results are measured on the difference scale.


```{r}
#| label: tbl-1_1
#| tbl-cap: "This table reports the results of model estimates for the causal effects of a universal gain of weekly religious service vs. a universal loss of weekly religious service on reported charitable behaviours at the end of the study. Contrasts are expressed in standard deviation units."
#| eval: true
#| include: true
#| echo: false

tab_all_prosocial |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")




#(group_tab_all_prosocial, "causal_difference", "LMTP")


# t2_charity_donate_z_gain<- here_read("t2_charity_donate_z_gain")
# 
# round( ( sd_donations * tab_all_prosocial[1,1]), 2)
```


For *donations*, the effect estimate is 0.132 [0.102, 0.161]. The E-value for this estimate is 1.507, with a lower bound of 1.426. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.426 to negate the observed effect. Weaker associations would not overturn it. We infer *evidence for causality*.  On the data scale, this intervention represents a difference of *NZD `r diff_charity` per adult per year* in charitable giving compared with the zero attendance intervention.




The effect estimate for *hours volunteer* is 0.123 [0.09, 0.156]. The E-value for this estimate is 1.482, with a lower bound of 1.389. We infer *evidence for causality*. On the data scale, this intervention represents a difference of *NZD `r diff_volunteer` minutes* per adult per week in volunteering compared with the zero attendance intervention.




#### Regular Religious Service vs. Status Quo Treatment Contrast for Donations and Volunteering


@fig-1_1 *B* and @tbl-1_2 present results for the treatment contrasts between Regular Religious Service and Status Quo, focusing on self-reported volunteering and charitable donations. These results are measured on the difference scale.




```{r}
#| label: tbl-1_2
#| tbl-cap: "This table reports results of model estimates for the causal effects of a universal gain of weekly religious service vs. the status quo on reported charitable behaviours at the end of the study. Contrasts are expressed in standard deviation units."
#| eval: true
#| include: true
#| echo: false


library(tidyverse)
library(margot)


tab_all_prosocial_null |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_all_prosocial_null, "causal_difference", "lmtp")
#round( ( sd_donations * tab_all_prosocial_null[1,1]), 2)
```


For *donations*, the effect estimate is 0.121 [0.102, 0.14]. The E-value for this estimate is 1.477, with a lower bound of 1.422. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.422 to negate the observed effect. Weaker confounding would not overturn it. We infer evidence for causality. On the data scale, this intervention represents an increase of *NZD `r charity_null` per adult per year* in expected charitable giving over the status quo.




For *hours volunteer*, the effect estimate is 0.095 [0.066, 0.123]. The E-value for this estimate is 1.404, with a lower bound of 1.317. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.317 to negate the observed effect. We infer *evidence for causality*.  On the data scale, this intervention represents an increase of *`r volunteer_null` minutes* per adult per week in hours volunteering over the status quo.




#### Zero Religious Service vs. The Status Quo Treatment Contrast for Donations and Volunteering


@fig-1_1 *C* and @tbl-1_3 present results for the treatment contrasts between Zero Religious Service and Status Quo, focusing on self-reported volunteering and charitable donations. These results are measured on the difference scale.




```{r}
#| label: tbl-1_3
#| tbl-cap: "This table reports the results of model estimates for the causal effects of a universal loss of weekly religious service vs. the status quo on reported charitable behaviours at the end of the study. Contrasts are expressed in standard deviation units."
#| eval: true
#| include: true
#| echo: false


#margot::margot_interpret_table(group_tab_all_prosocial_null_zero, "causal_difference", "lmtp")
tab_all_prosocial_null_zero |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")
```




For *donations*, the effect estimate is -0.011 [-0.029, 0.008]. The E-value for this estimate is 1.111, with a lower bound of 1. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1 to negate the observed effect. We infer that *the evidence for causality is not reliable*. On the data scale, this intervention represents a difference of NZD `r charity_null_zero` per adult per year in charitable giving compared to the status quo. Still, again, this effect is not reliable.




The effect estimate for *hours volunteer* is -0.028 [-0.042, -0.014]. The E-value for this estimate is 1.189, with a lower bound of 1.128. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.128 to negate the observed effect. Again, weaker confounding would not overturn it. We infer *evidence for causality*. On the data scale, this intervention represents a difference of `r volunteer_null_zero` in volunteering minutes compared with the status quo.




```{r}
#| label: fig-1_1
#| fig-cap: "This figure graphs the results of model estimates for the causal effects of the three causal contrasts of interest on reported charitable behaviours at the study's end. The causal contrasts are: (A) Regular vs. Zero Religious Service, (B) Regular Religious Service vs. Status Quo, and (C) Zero  Religious Service vs. Status Quo. Contrasts are expressed in standard deviation units."
#| eval: true
#| include: true
#| echo: false
#| fig-width: 10
#| fig-height: 12


# plot_group_tab_all_prosocial <- margot::margot_plot(
#   group_tab_all_prosocial,
#   type = "RD",
#   title = title,
#   subtitle = "Self-Reported Prosociality",
#   estimate_scale = 3,
#   base_size = 18,
#   text_size = 4.5,
#   point_size = 2,
#   title_size = 16,
#   subtitle_size = 14,
#   legend_text_size = 10,
#   legend_title_size = 10,
#   x_offset = -.1,
#   x_lim_lo = -.35,
#   x_lim_hi =  .25
# )
# 
# plot_group_tab_all_prosocial
# study_1 <- here_read(study_1, "study_1")
study_1
```


{{< pagebreak >}}


### Study 2: Causal Effects of Regular Church Attendance on Support Received From Others -- Time


#### Regular vs. Zero Causal Treatment Contrast for Time Received From Others




@fig-study2 *A* and @tbl-study2A present results for the treatment contrasts between Regular Religious Service and Zero, focusing on voluntary help received from others during the past week (yes/no). These results are measured on the risk ratio scale.




```{r}
#| label: tbl-study2A
#| tbl-cap: "This table reports the results of model estimates for the causal effects of a universal gain of weekly religious service vs. a universal loss of weekly religious service on voluntary help received from others during the past week (yes/no) at the end of the study. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false


tab_received_time |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_received_time, causal_scale = "risk_ratio" , estimand = "lmtp")


```


For *community gives time*, the effect estimate is 1.378 [1.231, 1.541]. The E-value for this estimate is 2.1, with a lower bound of 1.764. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.764 to negate the observed effect. Weaker confounding would not overturn it. We infer *evidence for causality*.


For *friends give time*, the effect estimate is 1.187 [1.108, 1.271]. The E-value for this estimate is 1.658, with a lower bound of 1.454. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.454 to negate the observed effect. We infer *evidence for causality*.


For *family gives time*, the effect estimate is 0.95 [0.901, 1.003]. The E-value for this estimate is 1.288, with a lower bound of 1.  We infer *that evidence for causality is not reliable*.


#### Regular Religious Service vs. Status Quo Treatment Contrast for Time Received From Others


@fig-study2*B* and @tbl-2-2 present results for the treatment contrasts between Regular Religious Service and Status Quo, focusing on voluntary help received from others during the past week (yes/no). These results are measured on the risk ratio scale.


```{r}
#| label: tbl-2-2
#| tbl-cap: "This table reports the results of model estimates for the causal effects of a universal gain of weekly religious service vs. the status quo on voluntary help received from others during the past week (yes/no) at the end of the study. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false




tab_received_time_null |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_received_time_null, "risk_ratio", "lmtp")


```






For *community gives time*, the effect estimate is 1.289 [1.174, 1.415]. The E-value for this estimate is 1.899, with a lower bound of 1.626. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.626 to negate the observed effect. Weaker confounding would not overturn it. We infer *evidence for causality*.


For *friends give time*, the effect estimate is 1.128 [1.061, 1.199]. The E-value for this estimate is 1.508, with a lower bound of 1.315. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.315 to negate the observed effect. We infer *evidence for causality*.


For *family gives time*, the effect estimate is 0.958 [0.913, 1.006]. The E-value for this estimate is 1.258, with a lower bound of 1. We infer **that evidence for causality is not reliable**.




#### Zero Religious Service vs. Status Quo Treatment Contrast for Time Received From Others


@fig-study2 *C* and @tbl-2_3 present results for the treatment contrasts between Zero Religious Service and Status Quo, focusing on voluntary help received from others during the past week (yes/no). These causal effect estimates are presented on the risk ratio scale.




```{r}
#| label: tbl-2_3
#| tbl-cap: "This table reports results of model estimates for the causal effects of a universal loss of weekly religious service vs. the status quo on voluntary help received from others during the past week (yes/no) at the end of the study. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false


tab_received_time_null_zero |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_received_time_null_zero, "risk_ratio", "lmtp")


```


For *family gives time*, the effect estimate is 1.008 [0.991, 1.026]. The E-value for this estimate is 1.098, with a lower bound of 1. We infer *that evidence for causality is not reliable*.


For *friends give time*, the effect estimate is 0.95 [0.928, 0.973]. The E-value for this estimate is 1.288, with a lower bound of 1.197. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.197 to negate the observed effect. We infer *evidence for causality*.


For *community gives time*, the effect estimate is 0.936 [0.889, 0.985]. The E-value for this estimate is 1.339, with a lower bound of 1.14. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.14 to negate the observed effect. We infer *evidence for causality*.


```{r}
#| label: fig-study2
#| fig-cap: "This figure reports the results of model estimates for the three causal contrasts of interest on help received from others during the past week (yes/no). The causal contrasts are (A) Regular vs. Zero Religious Service, (B) Regular Religious Service vs. Status Quo, and (C) Zero  Religious Service vs. Status Quo. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false
#| fig-width: 10
#| fig-height: 12


study_2
```




{{< pagebreak >}}


### Study 3: Causal Effects of Regular Church Attendance on Support Received From Others -- Money


#### Regular vs. Zero Causal Contrast on Money Received From Others


@fig-study_3 *A* and @tbl-3_1 present results for the treatment contrasts between Regular Religious Service and Zero, focusing on money received from others during the past week (yes/no). These results are measured on the risk ratio scale.




```{r}
#| label: tbl-3_1
#| tbl-cap: "This table reports the results of model estimates for the causal effects of a universal gain of weekly religious service vs. a universal loss of weekly religious service on financial help received from others during the past week (yes/no) at the end of the study. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false




tab_all_received_money |>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_all_received_money, "risk_ratio", "lmtp")


```




For *community gives money*, the effect estimate is 1.376 [1.112, 1.703]. The E-value for this estimate is 2.095, with a lower bound of 1.465. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.465 to negate the observed effect. We infer *evidence for causality*.


For *family gives money*, the effect estimate is 1.137 [1.028, 1.258]. The E-value for this estimate is 1.532, with a lower bound of 1.198. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.198 to negate the observed effect. We infer *evidence for causality*.


For *friends gives money*, the effect estimate is 1.137 [0.964, 1.342]. The E-value for this estimate is 1.532, with a lower bound of 1. We infer *that evidence for causality is not reliable*.




#### Regular vs. Status Quo Causal Contrast on Money Received From Others


@fig-study_3 *B* and @tbl-3_2 present results for the treatment contrasts between Regular Religious Service and Status Quo, focusing on money received from others during the past week (yes/no). These results are measured on the risk ratio scale.




```{r}
#| label: tbl-3_2
#| tbl-cap: "This table reports the results of model estimates for the causal effects of a universal gain of weekly religious service vs. the status quo on financial help received from others during the past week (yes/no) at the end of the study. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false






tab_all_received_money_null|>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_all_received_money_null, "risk_ratio", "lmtp")


```


For *community gives money*, the effect estimate is 1.254 [1.098, 1.432]. The E-value for this estimate is 1.818, with a lower bound of 1.426. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.426 to negate the observed effect. Weaker confounding would not overturn it. We infer *evidence for causality*.


For *family gives money*, the effect estimate is 1.13 [1.037, 1.232]. The E-value for this estimate is 1.513, with a lower bound of 1.233. At this lower bound, unmeasured confounders would need a minimum association strength with both the intervention sequence and outcome of 1.233 to negate the observed effect. We infer *evidence for causality*.


For *friends gives money*, the effect estimate is 1.041 [0.951, 1.139]. The E-value for this estimate is 1.248, with a lower bound of 1. We infer *that evidence for causality is not reliable*.


#### Zero vs. Status Quo Causal Contrast on Money Received From Others


@fig-study_3 *C* and @tbl-3_3 present results for the treatment contrasts between Zero Religious Service and Status Quo, focusing on money received from others during the past week (yes/no). These results are measured on the risk ratio scale.



```{r}
#| label: tbl-3_3
#| tbl-cap: "Table reports results of model estimates for the causal effects of a universal loss of weekly religious service vs. the status quo on financial help received from others during the past week (yes/no) at the end of study. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false




tab_all_received_money_null_zero|>
  mutate(across(where(is.numeric), ~ round(., 3))) %>%
  kbl(format = "markdown")


#margot::margot_interpret_table(group_tab_all_received_money_null_zero, "risk_ratio", "lmtp")
```




For *family gives money*, the effect estimate on the risk ratio scale is 0.993 [0.953, 1.035]. The E-value for this estimate is 1.091, with a lower bound of 1. We infer *that evidence for causality is not reliable*.


For *friends gives money*, the effect estimate on the risk ratio scale is 0.915 [0.809, 1.036]. The E-value for this estimate is 1.412, with a lower bound of 1. We infer *that evidence for causality is not reliable*.


For *community gives money*, the effect estimate on the risk ratio scale is 0.911 [0.796, 1.042]. The E-value for this estimate is 1.425, with a lower bound of 1. We infer *that evidence for causality is not reliable*.


```{r}
#| label: fig-study_3
#| fig-cap: "This figure reports the results of model estimates for the three causal contrasts of interest on help received from others during the past week (yes/no). The causal contrasts are: (A) Regular vs. Zero Religious Service (B) Regular Religious Service vs. Status Quo; (C) Zero  Religious Service vs. Status Quo. Contrasts are expressed on the risk ratio scale."
#| eval: true
#| include: true
#| echo: false
#| fig-width: 10
#| fig-height: 12


study_3
```
{{< pagebreak >}}
### Additional Study: Comparison of Causal Inference Results with Cross-Sectional Regressions


```{r}
#| label: regressions
#| eval: true
#| include: false
#| echo: false
# regression 
# b_church_on_hours_charity<-margot::here_read("b_church_on_hours_charity")
# b_church_on_hours_charity
# lm_coef_fit_church_on_charity_donate
# verify


# contrast for charity


```


To clarify how our causal inferences compare with estimates from commonly used observational research methods, we quantified the statistical associations between religious service attendance and all prosocial outcomes using cross-sectional methods frequently employed in observational psychology. For each analysis, we included all regression covariates from the causal models, including sample weights, while omitting the baseline measurement of the outcome variable.

**Cross-sectional volunteering result**: the change in expected hours of volunteer work for a one-unit increase in religious service attendance is `r b_church_on_hours_charity`. Multiplying this by 4.2 gives a monthly estimate of `r regression_regular_church_volunteer_minutes` minutes. This result is `r percent_greater_regression_volunteer` percent greater than the effect estimated from the 'regular vs. zero' causal contrast, revealing an *overstatement in the cross-sectional regression model*.


**Cross-sectional charitable donations result**: The coefficient for religious service on annual charitable donations suggests a change in expected donation amount per unit increase in attendance is `r b_church_on_charity_donate`. When adjusted to a monthly rate by multiplying by 4.2, this value equals NZ Dollars `r regression_regular_church_charity`. It is `r percent_greater_regression_donate` percent greater than our causal contrast estimate, again revealing an overstatement in the cross-sectional regression model.


For Studies 2 and 3, which focus on community help received, we handled the non-collapsibility of odds ratios by assuming a Poisson distribution for the outcome variables, and thus obtaining a rate ratio that approximates a risk ratio [@huitfeldt2019collapsibility; @vanderweele2020]:


**Cross-sectional community assistance received result: Time**: the exponentiated change in expectation for a one-unit change in religious service attendance is `r b_church_on_community_time_binary_exp_true` approximate risk rate ratio. The monthly rate ratio derived by multiplying this coefficient by 4.2 is `r community_time_risk_ratio`. This estimate is `r percent_greater_rr_community_time` percent greater than the 'regular vs. zero' causal estimate, revealing an overstatement of effect-estimate from that the cross-sectional regression model suggests.


**Cross-sectional community assistance received result: Money**: similarly, the exponentiated change for money received yields an approximate risk ratio of `r b_church_on_community_money_binary_exp_true`. The monthly risk ratio, after adjustment, is `r community_money_risk_ratio`. This rate ratio is `r percent_greater_rr_community_money` percent greater than the causal estimate, again revealing an overstatement in the cross-sectional regression model.

These findings indicate that while cross-sectional regression results may be suggestive, they can differ substantially from those obtained through the causal analysis of panel data.
{{< pagebreak >}}

### Economic Effects of Religious Service Attendance on Charitable Donations


```{r}
#| label: cashvalue
#| eval: true
#| include: false
#| echo: false


# avoid scientific notation
options(scipen = 999)


# # model estimates for charity under each intervention
# average annual donations 


# sample mean at end of study (won't be population mean)
mean_donations <- margot::here_read("mean_donations")
mean_volunteer <- margot::here_read("mean_volunteer")


# import models
# population mean
t2_charity_donate_z_null <- here_read("t2_charity_donate_z_null")


# all loss
t2_charity_donate_z_zero <- here_read("t2_charity_donate_z_zero")


# all gain
t2_charity_donate_z_gain <- here_read("t2_charity_donate_z_gain")


# calculate  population estimates for means of annual charitable donations using the models
# note these correctly account for sample weights
mean_donations_gain <-round( mean_donations  + ( t2_charity_donate_z_gain$theta * sd_donations ), 2)
mean_donations_null <-round( mean_donations  + ( t2_charity_donate_z_null$theta * sd_donations ), 2)


mean_donations_zero<- round( mean_donations  + ( t2_charity_donate_z_zero$theta * sd_donations ), 2)




mean_volunteer_gain<- round( mean_volunteer  + ( t2_hours_charity_z_gain$theta * sd_volunteer ), 2)
mean_volunteer_null<- round( mean_volunteer  + ( t2_hours_charity_z_null$theta * sd_volunteer ), 2)
mean_volunteer_zero <- round( mean_volunteer  + ( t2_hours_charity_z_zero$theta * sd_volunteer ), 2)


# sanity checks for differences 
donations_lmtp_up = round( abs(mean_donations_null - mean_donations_gain), 2)
donations_lmtp_down = round(mean_donations_null - mean_donations_zero, 2)


volunteer_lmtp_up = round(abs(mean_volunteer_null - mean_volunteer_gain), 2)
volunteer_lmtp_down = round((mean_volunteer_null - mean_volunteer_zero), 2)




# verify
contrast_char <- lmtp::lmtp_contrast(t2_charity_donate_z_gain , ref =  t2_charity_donate_z_zero, type = "additive")


contrast_vol <- lmtp::lmtp_contrast(t2_hours_charity_z_gain , ref =  t2_hours_charity_z_zero, type = "additive")






# verified: this is exactly correct
#contrast_char$vals$theta * sd_donations


# #number of people in NZ > 18 year olds in 2021/22
nz_adult_population <- 3989000
nz_20_over <- 3.8391
#source; https://www.stats.govt.nz/information-releases/national-population-estimates-at-30-june-2021




# annual charity estimate for the population = Status Quo
factual_charity_estimate <- round( nz_adult_population * mean_donations_null, 2)


mean_donations_null
# counterfactual charity estimate if all were to attend religious service regularly
counterfactual_factual_charity_estimate_up = round(nz_adult_population * mean_donations_gain, 2)


factual_charity_estimate_pop = round(nz_adult_population * mean_donations_null, 2)




# counterfactual charity estimate if all were to lose religious service regularly
counterfactual_factual_charity_estimate_down = round(nz_adult_population * mean_donations_zero, 2)
net_loss = round(counterfactual_factual_charity_estimate_down - factual_charity_estimate, 2)
net_gain = round(counterfactual_factual_charity_estimate_up - factual_charity_estimate, 2)
# net_loss
# net_gain
 
# compute differences at the national level: gain
counterfactual_difference_charity_donate_up = round( counterfactual_factual_charity_estimate_up - factual_charity_estimate, 2)
#counterfactual_difference_charity_donate_up


# compute differences at the national level: loss
counterfactual_difference_charity_donate_down =  round(factual_charity_estimate - counterfactual_factual_charity_estimate_down, 2)
#counterfactual_difference_charity_donate_down


# differences  - absolute scale
#print(counterfactual_difference_charity_donate_up)
#print(counterfactual_difference_charity_donate_down)
# 
# # ~ 2.5 billion NZD 
# # 2503913110
# 
# nz annual budget in 2021


nz_annual_budget = 14494000000 * 4 # treasury (https://www.treasury.govt.nz/publications/budgets/budget-2021)
# 
# # Intervention as a percentage of gov't annual budget 


# percentage of gain/loss as a function of nz government annual budget
per_gain <- round( counterfactual_difference_charity_donate_up/ nz_annual_budget, 3) * 100
per_lost <- round( counterfactual_difference_charity_donate_down/ nz_annual_budget, 3) * 100


# per_gain
# per_lost
# prop of values
prop_loss_of_gain <- round( abs(net_loss/net_gain), 2)


# make pretty numbers
nz_adult_population <- prettyNum(nz_adult_population,big.mark=",")
net_gain <- prettyNum(net_gain,big.mark=",")
net_loss <- prettyNum(net_loss,big.mark=",")
nz_annual_budget <-  prettyNum(nz_annual_budget,big.mark=",")
factual_charity_estimate_pop <- prettyNum(factual_charity_estimate_pop,big.mark=",")
factual_charity_estimate <- prettyNum(factual_charity_estimate,big.mark=",")




```


We next use our results to estimate the approximate economic value of religious service attendance under different scenarios—'Regular Religious Service', 'Zero Religious Service', and the 'Status Quo', focusing on charitable donations. We find the expected total donations under the interventions we modelled are as follows: 

1. **Regular Religious Service**: an increase in religious service attendance yields an individual average donation sum of **NZD `r mean_donations_gain`**.
2. **Zero Religious Service**: Reducing religious service attendance to zero yields an average donation sum of **NZD `r mean_donations_zero`**.
3. **Status Quo**: The expected individual average donation sum is currently **NZD `r mean_donations_null`**.


With `r nz_adult_population` adult residents in New Zealand in 2021.[^pop]  We find that:

First, multiplying the adult population by the average donation sum gives a status quo national estimate for charitable giving of **NZD `r factual_charity_estimate_pop`**.

Second, the net gain to charity from country-wide regular attendance at religious services, compared to the status quo, is **NZD `r net_gain`**.

Third, although the net cost to charity from a complete cessation of regular religious service attendance is **NZD `r net_loss`**, recall the confidence interval crosses zero, and this effect is not reliable.


To provide context, we next consider the magnitude of these economic consequences by comparing them to New Zealand government’s annual budget. In the year the outcomes were measured (2021-2022) the New Zealand government's annual budget was *NZD `r nz_annual_budget`*. 

First, the expected gain from a nationwide adoption of regular religious service represents `r per_gain` percent of New Zealand's annual government budget 2021.
 
Second, we do not find a reliable one-year effect on charitable giving from the loss intervention.


[^pop]: [National Population Estimates at 30 June 2021](https://www.stats.govt.nz/information-releases/national-population-estimates-at-30-june-2021)
[^source]: [Budget 2021](https://www.treasury.govt.nz/publications/budgets/budget-2021)

Hence, the scenario in which all New Zealand adults were to regularly attend religious services implies a substantial increase in society-wide charitable support one year after the intervention compared to the status quo. On the other hand, the scenario in which New Zealand were to experience a complete cessation of religious service attendance is not reliably distinguishable from the status quo condition. 

We emphasise that these population-wide estimates for aggregated one-year effects reflect estimated short-term behavioural changes. They do not address longer term implications of gaining or losing religious institutions on charity and volunteering.


## Discussion

Our study provides causal evidence that if regular religious service attendance were adopted across New Zealand this would increase levels of charity and volunteering. By contrast, entirely eliminating religious services would result in relatively minor changes to overall charitable giving in the year following cessation -- a result that arises from low baseline levels of religious attendance.

These findings underscore the importance of careful causal inquiry for examining the social consequences of religion. The broad question, 'Does religion cause prosociality?' is too vague to yield meaningful insights. Proper investigation requires specifying causal contrasts on well-defined treatments, selecting relevant measures of religious belief and behaviour, defining the target population, and collecting appropriate repeated-measures data in sufficiently large samples over time. Next, only after satisfying fundamental causal assumptions and identification criteria can we derive reliable statistical estimates that relate to our questions. Employing flexible statistical estimators further mitigates the risk of model misspecification [@hoffman2023; @vanderlaan2018;@wager2018]. After statistical estimation, sensitivity analyses help gauge the robustness of our quantitative estimates to confounding bias [@hernan2024WHATIF; @vanderweele2020].

Here, we defined clear causal contrasts from interventions that either increased or decreased religious attendance, or left attendance at the status quo. Our statistical models accounted for baseline confounders, including measures of baseline treatment and baseline outcomes. To reduce reliance on modelling assumptions, we used flexible, doubly robust machine learning ensembles with cross-validation. We then compared expected average outcomes under different treatments one year after the intervention, ensuring that estimation follows a temporal order in which causes precede effects.

We used two novel measures of prosociality -- help and financial support received from one's community. Although these indicators may be subject to measurement error, they arguably avoid certain worries about presentation bias. Arguably few would boast of dependency. Findings from this indicator cooberate self-reported charitable donations and volunteering, and both types of measure lend support to evolutionary theories of religious prosociality, according to which a fundamental, evolved function of religion is to enhance community-making [@sosis2003cooperation; @whitehouse2023; @watts2015; @watts2018].

Notably, our findings suggest that traditional effect size measures, such as Cohen’s d or $R^2$, can misrepresent practical significance when not grounded in causal inference. Put bluntly, the concept of an "effect size" makes little sense for a statistical association, absent a consistently estimated causal effect. For example, although the standardised effect size between regular and zero religious service attendance is modest (0.132 [0.102, 0.161]), this equates to an increase in annual charitable donations from NZD `r mean_donations_null` to NZD `r mean_donations_gain` per individual. This expected increase amounts to 4% of New Zealand’s 2021 government budget—a substantial real-world impact. This finding illustrates the limitations of relying on conventional statistical measures without considering valid causal estimates, particularly when informing policy. We recommend that researchers prioritise causal inference to evaluate and communicate practical effect sizes.

An intriguing question remains: who benefits from the charity of religious people? Although our data indicate that religious individuals often receive help from their communities, it is unclear whether those providing the help are members of the same religious group. For example, religious service attendance might increase requests for assistance, which non-religious community members could then answer. Similarly, religious giving and volunteering might disproportionately benefit religious elites, potentially at the expense of broader public goods. Although these scenarios may seem extreme, our data do not exclude them. Our data do not describe the network structure of charitable giving. Nevertheless, we may look to other data sources for insights. In New Zealand, religious organisations operate as public charities, and their financial records are transparent. Public data show that religious institutions account for 40% of the charitable sector in New Zealand [@McLeod2020, p.17], with similar or even higher proportions observed in other countries [@brooks2004faith; @woodyard2014doing; @monsma2007religion]. Furthermore, evidence suggests that religious organisations are efficient charities with low administrative costs and high volunteer engagement [@khanna1995charity; @bekkers2011literature; @McLeod2020, p.26]. Of course, we cannot dismiss the possibility that some religious leaders pocket a large share of benefit from religious charities However, given that all charities in New Zealand require open books, with published institutional salaries and legal punishments for theft, such instances are presumably rare. Of course secular charities are not immune to corruption either. On the basis of this contextual information, then, it seems credible to speculate that most religious charity goes to charitable causes. However, we again repeat that our data do not address this question. 

Despite the strengths of our study, several limitations persist. We should not confuse the precision of our causal workflows with the precision of the estimates we that we obtain from them. Direct and correlated measurement errors can skew findings by inflating or reducing the estimated magnitudes of true effects [@vanderweele2012MEASUREMENT; @bulbulia2024wierd]. As noted by Bekkers and Wiepking [@bekkers2011accuracy], even uncorrelated errors can distort estimates of charitable giving, leading to downward biases in religious charity estimates. Although we used multiple measures and adjusted for baseline giving to reduce the effects of correlated errors, uncorrelated and systematic errors may nevertheless influence our results. With the potential for downward bias, our estimates may be overly conservative. Practically this means our models might underestimate the true costs of religious decline in the near term. Since religious institutions comprise 40% of New Zealand’s charitable sector, a significant drop in religious attendance might indeed threaten the viability of these charities. Put differently, our one-year estimates of charitable giving and volunteering may present a false picture of security. Conversely, a sharp rise in religious attendance might yield more considerable benefits than our models suggest. Ultimately, our results should not be viewed as causal predictions that are set in stone. Again, precise causal methods do not necessarily produce correspondingly precise causal answers. We do not claim to have a magical crystal ball. Here, we provide signals, not certainties.

The generalisability of our findings beyond New Zealand is yet to be explored, as are the causal effects of prolonged exposure to religious services over many years.  Although our results pertain to the New Zealand population, further research is needed to determine whether they hold in other cultural or national contexts, and whether longer-term interventions on religious service attendance would cause different magnitudes of response. Initiatives such as the Global Flourish Study [@johnson2022global], and similar efforts will eventually provide opportunities to apply causal methods across diverse cultural settings. And causal estimation over multiple waves is already possible with New Zealand Attitudes and Values data, a matter for future investigation.

In conclusion, by integrating robust causal methods with longitudinal data, we provide clear quantitative evidence that religious service attendance affects prosocial behaviours. Beyond the significance of our findings, we hope this study encourages psychological scientists to adopt causal methods. Psychological questions are inherently causal. However, effectively addressing these questions requires methods that transcend the associational approaches currently dominating the field [@bulbulia2024swigstime; @vanderweele2021can; @rohrer2022PATH]. We hope this study inspires others to build upon our early efforts.


 <!-- . -->

<!-- 
Despite employing robust causal inference methods, our findings hinge on assumptions that merit revisiting. First, unmeasured confounding remains a concern. While our sensitivity analyses address the potential effects of unmeasured confounders, their presence and influence cannot be entirely ruled out or verified within the confines of our data.


Second, "Religious service attendance" encompasses a wide spectrum -- from informal home gatherings to formal cathedral services -- across New Zealand’s diverse religious traditions. This heterogeneity complicates interpretation; our “treatment” is not as uniform as a medical intervention like a vaccine. This inherent variability limits the interpretation of our results, and no amount of data or analysis can fully resolve this issue.


Third, the assumption of positivity demands that all levels of "treatment"—in this case, religious service attendance—are realistically attainable for all individuals. Although our data include instances of secular individuals beginning to attend services and frequent attendees ceasing attendance (see Table @tbl-transition), it may be unrealistic to assume that such shifts are possible for everyone. This limitation could affect the validity of our causal inferences.


Fourth, we have focussed on average treatment effects across an adult population. Future studies should examine treatment effect heterogeneity. Determining which subgroups exhibit the most robust responses will improve both scientific understanding and policy-making. 


Fifth, measurement error poses a challenge. Direct and correlated measurement errors can bias our findings, potentially suggesting effects where none exist or diminishing actual effects [@vanderweele2012MEASUREMENT]. Although we attempted to mitigate this by using multiple measures of prosociality and controlling for these at baseline, unknown combinations of measurement error may still bias our results. More basic, it is unclear the extent to which self-reported charity and volunteering accurately reflect behaviour. The extent to which people under-report and over-report charitable giving and volunteering has yet to be systematically investigated in New Zealand. Therefore, our reported outcomes and estimates should be considered approximations.


Finally, the generalisability of our findings beyond New Zealand is uncertain. Although our results apply to the New Zealand population, it remains to be seen whether they can be transferred to other cultural or national contexts. This question warrants further investigation.




Despite these limitations, our study provides compelling evidence that regular religious service attendance causally enhances prosocial behaviours — specifically charitable donations and volunteering—in New Zealand. By employing robust causal inference methods on longitudinal panel data, we demonstrated that increasing religious attendance across the population could substantially elevate these prosocial activities beyond current levels. Conversely, eliminating religious services entirely would have minimal impact compared to the status quo, given the relatively low baseline levels of religious attendance.


These findings underscore the critical importance of precise causal inquiry when examining the social effects of religion. The overarching question -- "Does religion cause prosociality?"  -- is insufficiently specific and potentially misleading. Meaningful investigation requires articulating precise causal contrasts, selecting specific measures of religious belief, behaviour, and prosociality, defining the target population, and collecting appropriate repeated-measures data over time in sufficiently large samples. Robust statistical estimates can be obtained only by satisfying causal assumptions and identification criteria. Employing flexible statistical estimators reduces the risk of model misspecification, and sensitivity analyses are essential for evaluating the robustness of these estimates [@hernan2024WHATIF; @vanderweele2020].


Our methodological approach involved defining specific intervention contrasts that increased or decreased religious attendance, adjusting for baseline confounders—including prior measures of treatment and outcomes—using flexible, doubly robust machine learning ensembles with cross-validation, and comparing expected average outcomes under different treatments one year later.


Importantly, our study reveals that traditional effect size measures, such as Cohen’s d or $R^2$, can misrepresent practical significance when not grounded in causal inference. While the standardised effect size for the difference between regular religious service and no service was modest (0.132 [0.102, 0.161]), this translated into an increase in annual charitable donations from NZD `r mean_donations_null` to NZD `r mean_donations_gain` per individual. Aggregated across the population, this represents 4% of New Zealand’s Annual Government Budget in 2021 -- a substantial real-world effect. This highlights the inadequacy of relying solely on conventional statistical measures without valid causal estimates, particularly when informing policy decisions. We recommend that researchers prioritise causal inference to evaluate and communicate practical effect sizes accurately.


Our novel measures of prosociality -- help and financial support received from one’s community -- corroborate the findings from self-reported charitable donations and volunteering. This alignment supports evolutionary theories of religious prosociality that emphasise within-group cooperative benefits [@sosis2003cooperation; @whitehouse2023]. Public data indicating that religious institutions account for 40% of the charitable sector in New Zealand further substantiate our results [@McLeod2020, p.17]; see also [@brooks2004faith; @woodyard2014doing; @monsma2007religion]. Moreover, religious organisations tend to operate efficiently, owing to low administrative costs and high volunteer engagement [@khanna1995charity; @bekkers2011literature; @McLeod2020, p.26]. 


Despite the strengths of our study, limitations remain. Measurement error is an inherent challenge; both direct and correlated measurement errors can bias findings, either inflating or attenuating true effects [@vanderweele2012MEASUREMENT]. Although we attempted to mitigate this threat by using multiple measures of volunteering and charitable donations, and controlling for baseline measures of these indicators, unknown measurement errors may still influence our results.


Furthermore, we did not examine the heterogeneity of treatment effects in this study. However, identifying subgroups that exhibit the most robust responses is crucial for both scientific understanding and effective policy-making, a topic for future investigations.


Finally, although our results are applicable to the New Zealand population, further research is needed to determine whether these findings can be extended to other cultural or national contexts. Initiatives such as the Global Flourish Study [@johnson2022global] will eventually provide opportunities to apply causal methods in diverse cultures. 


By integrating robust causal methods with longitudinal panel data, we have provided quantitative evidence that religious service attendance causally influences prosocial behaviours. While these findings are significant in their own right, we also hope this study encourages a shift towards adopting causal inference methods in psychological science. Despite their demonstrated effectiveness, causal inference methods remain relatively uncommon in many human sciences, particularly psychology, where traditional associational approaches dominate.


Admittedly, transitioning to causal methods may seem challenging, given the need for formal retraining and the demands of longitudinal data collection. Yet, causation unfolds over time, with causes preceding effects, and understanding these relationships requires methods that reflect this temporal structure. Estimating average causal effects demands multi-step workflows and robust time-series data, but these complexities should not deter researchers. Encouragingly, causal inference techniques have become standard practice in fields such as epidemiology [@lash2020] and are gaining ground in economics [@angrist2009mostly; @athey2019; @athey2021] and political science [@montgomery2018]. As these disciplines have shown, the effort required to adopt these methods is well worth the insights they provide.


Ultimately, advancing psychological science will depend on moving beyond purely associational methods. The ability to rigorously assess causal relationships opens new avenues for understanding behaviour, intervention, and policy relevance -- opportunities that the field can no longer afford to overlook. -->




<!-- First, it is essential to notice that "Does religion cause prosociality?" lacks specificity. To refine this question, we must articulate clear causal contrasts and their scale, select specific measures of "prosociality," define our target population, gather appropriate time-series data, and, only after causal assumptions and identification criteria are satisfied and threats made explicit, calculate statistical estimates. Having obtained these estimates, which rely on assumptions, we must evaluate robustness using sensitivity analyses [@hernan2024WHATIF; @ogburn2021; @bulbulia2022; @linden2020EVALUE; @vanderweele2020].


Here, we obtain statistical estimates for the causal effects of religious service on charity and volunteering by (1) stating contrasts for specific interventions that increase and decrease religious service attendance across the population; (2) balancing the interventions to be compared on baseline confounders measured one year before treatment (including baseline measures of the treatment and outcomes) using flexible doubly robust machine learning ensembles with cross-validation; and (3) evaluating contrasts in expected average outcomes under different treatments one year after treatment.


In the scientifically interesting contrast condition, 'Regular vs Zero', we find considerable social benefits of regular religious attendance for charitable donations and volunteering. Moreover, we also find that regular religious service enacted in contemporary New Zealand would strongly enhance charity and volunteering above the status quo, a point that may inform discussions among critics of religion. Conversely, the overall social effects of altogether ceasing religious services are minimal compared with the status quo. Were New Zealand society to entirely forgo regular religious attendance, differences in charitable donations and volunteering one year later are unreliable. Although we did not investigate the long-term effects of the interventions considered here, this finding should alleviate some concerns among those wary of New Zealand's longstanding secular trend. Looking ahead, **we recommend that future research distinguish between treatment-gain and treatment-loss models** (as exemplified by [@vantongeren2020]).


Second, we caution that **classical measures of effect, such as Cohen's *D* or $R^2$, may present a misleading indication of practical significance.** Our study computed standardised differences in the continuous charity and volunteering outcomes. The contrast between regular religious service and no service yields an effect size of 0.132 [0.102, 0.161]. This effect would be categorised as a "small" effect by contemporary experimental conventions. Nonetheless, we project that the difference in annual charitable donations between the regular service condition and the status quo amounts to NZD `r mean_donations_gain` versus NZD `r mean_donations_null`. Not only is this effect practically significant at the individual level, but summed over the population, the difference amounts to 4% of New Zealand's Annual Government Budget (2021). **We recommend using causal inference to prioritise, evaluate, and communicate practical effect sizes. Conventional statistical measures should not be mistaken for metrics of practical significance.**


Third, our novel measures of prosociality—**assistance and financial support received from one's community**—align with the expectations of self-reported data on charitable donations and volunteering. We detect marginal causal effects of religious service attendance on **measures of prosocial benefit and dependence**. Notice that just as our measures of prosocial actions (charity/volunteering) do not capture the targets of prosocial help, our measures of community help received (time/money) do not capture the specific sources of help beyond the categories of "community," "friends," and "family". Nevertheless, the evolutionary theories of religious prosociality that motivate this study are grounded on within-group cooperative benefits [@sosis2003cooperation; @johnson2015; @bulbulia2012spreading; @whitehouse2023; @schloss2011evolutionary]. This consistency between self-reported giving and help received aligns with public data in New Zealand;[^charities] where religious institutional charity accounts for 40% of the charitable sector (refer to [@McLeod2020, p.17], and also [@brooks2004faith; @woodyard2014doing; @monsma2007religion]). Additionally, religious institutions appear particularly efficient owing to low administrative costs and high volunteer engagement [@khanna1995charity; @bekkers2011literature; @McLeod2020, p.26]. We note that the community signals of religious giving are consistent with the theory that religion promotes altruism outside families, friendships, and even among strangers [@mccullough2020kindness]. **In contexts where investigators are concerned about self-presentation biases when surveying charitable donations and volunteering, we recommend piloting and deploying measures that capture community-received assistance.**


[^charities]: [https://www.charities.govt.nz/view-data/](https://www.charities.govt.nz/view-data/)


Fourth, our secondary analysis reveals that standard cross-sectional regressions overstate the causal effects estimates obtained from a conscientious application of causal methods to time-series data. Importantly, associational models might also *understate* true causal relationships, especially if adjustments involve mediators [@westreich2013; @mcelreath2020]. Despite their effectiveness and relevance, causal inference methods remain uncommon in many human sciences, including the psychological sciences, where traditional associational methods still dominate. Transitioning to causal data science might seem daunting. Yet, causation inherently unfolds in time, with causes preceding effects. Estimating average causal effects involves multi-stepped workflows and robust time-series data [@neal2020introduction; @bulbulia2023]. Although the need for researchers to develop new skills imposes considerable demands, it is encouraging that methods for causal inference have become standard in epidemiology [@lash2020] and are rapidly gaining traction in economics [@angrist2009mostly; @athey2019; @athey2021] and political science [@montgomery2018].


Moreover, a global panel study suited for researching religion [@johnson2022global] offers exciting opportunities for psychological scientists to apply causal methods to those psychological questions at the heart of our discipline.


Also encouraging, well-designed panel studies investigating the causal effects of religious service attendance on health that capitalise on the affordances of time-series data provide models for studies that may investigate the social consequences of religion (refer to [@chen2020religious, @pawlikowski2019religious, @vanderweelechurchmortality, @vanderweele2021effectsReligiousServiceMetanalysis, @kim2019mediators]). At present, then, the intellectual benefits of retooling would seem considerable (refer to [@major2023exploring]).


Setting intellectual benefits aside, it is vital to remember that investigators should be able to evaluate the practical interest of their findings coherently. Such evaluation relies on quantifying the effects of interventions. However, associational methods cannot deliver this understanding where causal inferential workflows are absent because association is not guaranteed to be causation [@westreich2013]. What might be called a **practical significance gap** arises from associational models because we cannot interpret associations as causation unless we have obtained balance on the treatments to be compared, know that causes in our data precede effects in time, and ensure that identification conditions have been met. Notably, the **practical significance gap remains for associational methods even when they are applied to time-series data**, and even when the associational methods are sophisticated—as in the statistical structural equation and multilevel modelling traditions (refer to [@vanderweele2021can; @hazlett2022understanding]). Yet, because investigators typically seek both scientific knowledge and practical understanding, **we strongly recommend the broader adoption of causal inferential methods in the psychological sciences.**


Fifth, and finally, we frame this study's contribution in light of future horizons. This study combined robust causal methods with national panel data to quantitatively investigate the social consequences of religious behaviour. Using both stated and revealed indicators, we provide evidence that religious service attendance causally affects charitable donations and volunteering. These findings offer insights into *how much* religious service affects charity and volunteering in New Zealand and possibly in similar cultures. We hope this research will serve as a guide for studies in other settings.


However, even within New Zealand, much remains to be discovered. We have not attempted to elucidate heterogeneity in the treatment effects we observe. Nor have we investigated the pathways by which religious service attendance affects social behaviours. A substantial body of research has examined the psychological and cultural features through which religious behaviours affect individuals [@norenzayan2016; @shaver2020church; @watts2016; @mccullough2016christian; @konvalinka2011synchronized; @lang2015effects; @cristofori2016neural; @shaver2015evolution; @sosis2005does]. Yet obtaining a causal understanding presents conceptual, modelling, and data challenges [@robins1992; @vanderweele2015; @Diaz2023; @diaz2021nonparametric]. In the years ahead, **we recommend the wider development and application of causal inferential methods employing repeated measurements over more than three years to investigate variation, interaction, and causal mediation**. -->


{{< pagebreak >}}


### Ethics


The University of Auckland Human Participants Ethics Committee reviews the NZAVS every three years. Our most recent ethics approval statement is as follows: The New Zealand Attitudes and Values Study was approved by the University of Auckland Human Participants Ethics Committee on 26/05/2021 for six years until 26/05/2027, Reference Number UAHPEC22576.




### Data Availability


The data described in the paper are part of the New Zealand Attitudes and Values Study. Members of the NZAVS management team and research group hold full copies of the NZAVS data. A de-identified dataset containing only the variables analysed in this manuscript is available upon request from the corresponding author or any member of the NZAVS advisory board for replication or checking of any published study using NZAVS data. The code for the analysis can be found at: [https://github.com/go-bayes/models/blob/main/scripts/24-bulbulia-church-prosocial.R](https://github.com/go-bayes/models/blob/main/scripts/24-bulbulia-church-prosocial.R). 




### Acknowledgements


The New Zealand Attitudes and Values Study is supported by a grant from the Templeton Religious Trust (TRT0196; TRT0418). JB received support from the Max Planck Institute for the Science of Human History. The funders had no role in preparing the manuscript or deciding to publish it.




### Author Statement


JB conceived the study and approach. CS led NZAVS data collection. All authors contributed to the manuscript.




{{< pagebreak >}}


## Appendix A: Measures {#appendix-measures}


#### Age (waves: 1-15)


We asked participants' ages in an open-ended question ("What is your age?" or "What is your date of birth?").




#### Born in New Zealand




#### Charitable Donations  (Study 1 outcome)


Using one item from @hoverd_religious_2010, we asked participants, "How much money have you donated to charity in the last year?". 


<!-- To stabilise this indicator, we took the natural log of the response + 1. -->




#### Charitable Volunteering  (Study 1 outcome)




We measured hours of volunteering using one item from @sibley2011: "Hours spent … voluntary/charitable work."


<!-- To stabilise this indicator, we took the natural log of the response + 1. -->


#### Children Number (waves: 1-3, 4-15)


We measured the number of children using one item from @Bulbulia_2015. We asked participants, "How many children have you given birth to, fathered, or adopted. How many children have you given birth to, fathered, or adopted?" or "How many children have you given birth to, fathered, or adopted. How many children have you given birth to, fathered, and/or parented?" (waves: 12-15).


<!-- Here, we used responses to create a binary indicator for parenthood: Parent Yes = 1/ No = 0.  -->






<!-- #### Community: Sense of Community (Study 2 outcome) -->


<!-- We measured a sense of community with a single item from @sengupta2013: "I feel a sense of community with others in my local neighbourhood." Participants answered on a scale of 1 (strongly disagree) to 7 (strongly agree). -->




<!-- #### Community: Felt Belongingness  (Study 2 outcome) -->


<!-- We assessed felt belongingness with three items adapted from the Sense of Belonging Instrument [@hagerty1995]: (1) "Know that people in my life accept and value me"; (2) "Feel like an outsider"; (3) "Know that people around me share my attitudes and beliefs". Participants responded on a scale from 1 (Very Inaccurate) to 7 (Very Accurate). The second item was reversely coded. -->


<!-- #### Community: Social Support (Study 2 outcome) -->


<!-- Participants perceived social support was measured using three items from @cutrona1987 and @williams_cyberostracism_2000: (1) "There are people I can depend on to help me if I really need it"; (2) "There is no one I can turn to for guidance in times of stress"; (3) "I know there are people I can turn to when I need help." Participants indicated how much they agreed with those items (1 = Strongly Disagree to 7 = Strongly Agree). The second item was negatively worded, so we reversely recorded the responses to this item. -->


#### Disability


We assessed disability with a one-item indicator adapted from @verbrugge1997. It asks, "Do you have a health condition or disability that limits you and that has lasted for 6+ months?" (1 = Yes, 0 = No).




#### Education Attainment (waves: 1, 4-15)


We asked participants, "What is your highest level of qualification?". We coded participants' highest finished degree according to the New Zealand Qualifications Authority. Ordinal-Rank 0-10 NZREG codes (with overseas school quals coded as Level 3, and all other ancillary categories coded as missing) See:https://www.nzqa.govt.nz/assets/Studying-in-NZ/New-Zealand-Qualification-Framework/requirements-nzqf.pdf


#### Employment (waves: 1-3, 4-11)


We asked participants, "Are you currently employed? (This includes self-employed or casual work)".


<!-- #### European (waves: 1-15) -->


<!-- Participants were asked, "Which ethnic group do you belong to (NZ census question)?" or "Which ethnic group(s) do you belong to? (Open-ended)" (wave: 3). Europeans were coded as 1, whereas other ethnicities were coded as 0. -->


#### Ethnicity


Based on the New Zealand Census, we asked participants, "Which ethnic group(s) do you belong to?". The responses were: (1) New Zealand European; (2) Māori; (3) Samoan; (4) Cook Island Māori; (5) Tongan; (6) Niuean; (7) Chinese; (8) Indian; (9) Other such as DUTCH, JAPANESE, TOKELAUAN. Please state:. We coded their answers into four groups: Maori, Pacific, Asian, and Euro (except for Time 3, which used an open-ended measure).




#### Fatigue


We assessed subjective fatigue by asking participants, "During the last 30 days, how often did ... you feel exhausted?" Responses were collected on an ordinal scale (0 = None of The Time, 1 = A little of The Time, 2 = Some of The Time, 3 = Most of The Time, 4 = All of The Time).




#### Honesty-Humility-Modesty Facet (waves: 10-14)


Participants indicated the extent to which they agree with the following four statements from @campbell2004 , and @sibley2011 (1 = Strongly Disagree to 7 = Strongly Agree)

i.  I want people to know that I am an important person of high status, (Waves: 1, 10-14)
ii. I am an ordinary person who is no better than others.
iii. I wouldn't want people to treat me as though I were superior to them.
iv. I think that I am entitled to more respect than the average person is.


<!-- #### Has Siblings -->


<!-- "Do you have siblings?" [@stronge2019onlychild] -->


#### Hours of Childcare


We measured hours of exercising using one item from @sibley2011: 'Hours spent … looking after children."


To stabilise this indicator, we took the natural log of the response + 1.




#### Hours of Housework


We measured hours of exercising using one item from @sibley2011: "Hours spent … housework/cooking"


To stabilise this indicator, we took the natural log of the response + 1.


#### Hours of Exercise


We measured hours of exercising using one item from @sibley2011: "Hours spent … exercising/physical activity" 


To stabilise this indicator, we took the natural log of the response + 1.


<!-- #### Hours Volunteering -->


<!-- We measured hours of volunteering using one item from @sibley2011: "Hours spent … voluntary/charitable work." -->


<!-- To stabilise this indicator, we took the natural log of the response + 1. -->


#### Hours of Childcare


We measured hours of exercising using one item from @sibley2011: 'Hours spent … looking after children."


To stabilise this indicator, we took the natural log of the response + 1.




#### Hours of Exercise


We measured hours of exercising using one item from @sibley2011: "Hours spent … exercising/physical activity" 


To stabilise this indicator, we took the natural log of the response + 1.




#### Hours of Housework


We measured hours of exercising using one item from @sibley2011: "Hours spent … housework/cooking"


To stabilise this indicator, we took the natural log of the response + 1.




#### Hours of Sleep


Participants were asked, "During the past month, on average, how many hours of *actual sleep* did you get per night?".




#### Hours of Work


We measured work hours using one item from @sibley2011: "Hours spent … working in paid employment."


To stabilise this indicator, we took the natural log of the response + 1.




#### Income (waves: 1-3, 4-15)


Participants were asked, "Please estimate your total household income (before tax) for the year XXXX". To stabilise this indicator, we first took the natural log of the response + 1, and then centred and standardised the log-transformed indicator.


<!-- #### Job Security (waves: 1-3,4-7,9-15) -->


<!-- Participants indicated their feeling of job security by answering "How secure do you feel in your current job?" on a scale from 1 (not secure) to 7 (very secure). -->




#### Kessler-6: Psychological Distress  (waves: 2-3,4-15)


We measured psychological distress using the Kessler-6 scale (kessler2002?), which exhibits
strong diagnostic concordance for moderate and severe psychological distress in large, crosscultural
samples (kessler2010?; prochaska2012?). Participants rated during the past 30
days, how often did… (1) “… you feel hopeless”; (2) “… you feel so depressed that nothing
could cheer you up”; (3) “… you feel restless or fidgety”; (4)“… you feel that everything was
an effort”; (5) “… you feel worthless”; (6) ” you feel nervous?” Ordinal response alternatives
for the Kessler-6 are: “None of the time”; “A little of the time”; “Some of the time”; “Most of
the time”; “All of the time.”




#### Male Gender (waves: 1-15)


We asked participants' gender in an open-ended question: "what is your gender?" or "Are you male or female?" (waves: 1-5). Female was coded as 0, Male as 1, and gender diverse coded as 3 [@fraser_coding_2020]. (or 0.5 = neither female nor male)


Here, we coded all those who responded as Male as 1, and those who did not as 0.




#### Mini-IPIP 6 (waves: 1-3,4-15)


We measured participants' personalities with the Mini International Personality Item Pool 6 (Mini-IPIP6) [@sibley2011], which consists of six dimensions and each dimension is measured with four items:


1.  agreeableness,


    i.  I sympathize with others' feelings.
    ii. I am not interested in other people's problems. (r)
    iii. I feel others' emotions.
    iv. I am not really interested in others. (r)


2.  conscientiousness,


    i.  I get chores done right away.
    ii. I like order.
    iii. I make a mess of things. (r)
    iv. I often forget to put things back in their proper place. (r)


3.  extraversion,


    i.  I am the life of the party.
    ii. I don't talk a lot. (r)
    iii. I keep in the background. (r)
    iv. I talk to a lot of different people at parties.


4.  honesty-humility,


    i.  I feel entitled to more of everything. (r)
    ii. I deserve more things in life. (r)
    iii. I would like to be seen driving around in a very expensive car. (r)
    iv. I would get a lot of pleasure from owning expensive luxury goods. (r)


5.  neuroticism, and


    i.  I have frequent mood swings.
    ii. I am relaxed most of the time. (r)
    iii. I get upset easily.
    iv. I seldom feel blue. (r)


6.  openness to experience


    i.  I have a vivid imagination.
    ii. I have difficulty understanding abstract ideas. (r)
    iii. I do not have a good imagination. (r)
    iv. I am not interested in abstract ideas. (r)


Each dimension was assessed with four items and participants rated the accuracy of each item as it applies to them from 1 (Very Inaccurate) to 7 (Very Accurate). Items marked with (r) are reverse coded.




#### NZ-Born (waves: 1-2,4-15)


We asked participants, "Which country were you born in?" or "Where were you born? (please be specific, e.g., which town/city?)" (waves: 6-15).




#### NZ Deprivation Index (waves: 1-15)


We used the NZ Deprivation Index to assign each participant a score based on where they live [@atkinson2019]. This score combines data such as income, home ownership, employment, qualifications, family structure, housing, and access to transport and communication for an area into one deprivation score.




#### NZSEI Occupational Prestige and Status (waves: 8-15)


We assessed occupational prestige and status using the New Zealand Socio-economic Index 13 (NZSEI-13) [@fahy2017a]. This index uses the income, age, and education of a reference group, in this case the 2013 New Zealand census, to calculate a score for each occupational group. Scores range from 10 (Lowest) to 90 (Highest). This list of index scores for occupational groups was used to assign each participant an NZSEI-13 score based on their occupation.


We assessed occupational prestige and status using the New Zealand Socio-economic Index 13 (NZSEI-13) [@fahy2017]. This index uses the income, age, and education of a reference group, in this case, the 2013 New Zealand census, to calculate a score for each occupational group. Scores range from 10 (Lowest) to 90 (Highest). This list of index scores for occupational groups was used to assign each participant an NZSEI-13 score based on their occupation.


<!-- We asked participants, "If you are a parent, what is the birth date of your eldest child?". -->
<!-- #### Parent (waves: 5-15) -->


<!-- We asked participants, "If you are a parent, what is the birth date of your eldest child?" or "If you are a parent, in which year was your eldest child born?" (waves: 10-15). Parents were coded as 1, while the others were coded as 0. --> 








#### Opt-in


The New Zealand Attitudes and Values Study allows opt-ins to the study. Because the opt-in population may differ from those sampled randomly from the New Zealand electoral roll; although the opt-in rate is low, we include an indicator (yes/no) for this variable.






#### Partner (No/Yes)


"What is your relationship status?" (e.g., single, married, de-facto, civil union, widowed, living together, etc.)




#### Politically Conservative 


We measured participants' political conservative orientation using a single item adapted from @jost_end_2006-1.


"Please rate how politically liberal versus conservative you see yourself as being."


(1 = Extremely Liberal to 7 = Extremely Conservative)




##### Religious Service Attendance


If participants answered *yes* to "Do you identify with a religion and/or spiritual group?" we measured their frequency of church attendence using one item from @sibley2012: "how many times did you attend a church or place of worship in the last month?". Those participants who were not religious were imputed a score of "0".


#### Rural/Urban Codes


Participants residence locations were coded according to a five-level ordinal categorisation ranging from "Urban" to Rural, see @sibley2021.


<!-- #### Politically Right Wing  -->


<!-- We measured participants' political right-wing orientation using a single item adapted from @jost_end_2006-1. -->


<!-- "Please rate how politically left-wing versus right-wing you see yourself as being." -->


<!-- (1 = Extremely left-wing to 7 = Extremely right-wing) -->




<!-- #### Religion Affiliation -->


<!-- Participants were asked to indicate their religion identification ("Do you identify with a religion and/or spiritual group?") on a binary response (1 = Yes, 0 = No). We then asked, "What religion or spiritual group?" These questions are used in the New Zealand Census -->




<!-- #### Support -->


<!-- Participants' perceived social support was measured using three items from @cutrona1987 and @williams_cyberostracism_2000: (1) "There are people I can depend on to help me if I really need it"; (2) "There is no one I can turn to for guidance in times of stress"; (3) "I know there are people I can turn to when I need help." Participants indicated how much they agreed with those items (1 = Strongly Disagree to 7 = Strongly Agree). The second item was negatively worded, so we reversely recorded the responses to this item. -->


#### Short-Form Health


Participants' subjective health was measured using one item ("Do you have a health condition or disability that limits you, and that has lasted for 6+ months?"; 1 = Yes, 0 = No) adapted from @verbrugge1997.




#### Sample Origin


Wave enrolled in NZAVS, see @sibley2021.


<!-- #### Socialising (time 10, time 11) -->


<!-- As part of the time usage measures, participants were asked to state how many hour the spent in activities related to socialising with the following groups: -->


<!--   - Hours spent … socialising with family -->
<!--   - Hours spent … socialising with friends -->
<!--   - Hours spent … socialising with community groups -->


<!--   <!-- - Hours spent … socialising with religious groups -->




#### Support received: money (waves 10-12) (Study 4 outcomes)


The NZAVS has a 'revealed' measure of received help and support measured in hours of support in the previous week. The items are: 




*Please estimate how much help you have received from the following sources in the last week?*


- *family...MONEY (hours)*
- *friends...MONEY (hours)*
- *members of my community...MONEY (hours)*




Because this measure is highly variable, we convert responses to binary indicators: *0 = none/1 any*




#### Support received: time (waves 10-13) (Study 3 outcomes)


*Please estimate how much help you have received from the following sources in the last week.*


- *family...TIME (hours)*
- *friends...TIME (hours)*
- *members of my community...TIME (hours)*


Because this measure is highly variable, we convert responses to binary indicators: *0 = none/1 any*
  


#### Total Siblings


Participants were asked the following questions related to sibling counts: 
 
 - Were you the 1st born, 2nd born, or 3rd born, etc, child of your mother?
 - Do you have siblings?
 - How many older sisters do you have?
 - How many younger sisters do you have?
 - How many older brothers do you have?
 - How many younger brothers do you have?


A single score was obtained from sibling counts by summing responses to the "How many..." items. From these scores, an ordered factor was created ranging from 0 to 7, where participants with more than 7 siblings were grouped into the highest category. 




<!-- #### Volunteers -->


<!-- We asked participants,"Please estimate how many hours you spent doing each of the following things last week" and responded to an item ("voluntary/charitable work") from [@sibley2011]. -->




{{< pagebreak >}}


## Appendix B. Baseline Demographic Statistics {#appendix-demographics}




```{r}
#| label: tbl-table-demography
#| tbl-cap: "Baseline demographic statistics"
#| eval: true
#| include: true
#| echo: false
table_baseline |>  kbl(format = "markdown")
```




@tbl-table-demography baseline demographic statistics for couples who met inclusion criteria.


{{< pagebreak >}}




##  Appendix C: Treatment Statistics {#appendix-exposures}




```{r}
#| label: tbl-table-exposures-code
#| tbl-cap: "Exposures at baseline and baseline + 1 (treatment) wave"
#| eval: true
#| include: true
#| echo: false


table_exposures |>  kbl(format = "latex",  booktabs = TRUE)
```






tbl-table-exposures-code presents baseline (NZAVS time 10) and exposure wave (NZAVS time 11) statistics for the exposure variable: religious service attendance (range 0-8). Responses coded as eight or above were coded as "8". This decision to avoid spare treatments was based on theoretical grounds, namely, that daily exposure would be similar in its effects to more than daily exposure. We note that causal contrasts were obtained for projects with either no attendance or four or more visits per month. Hence this simplification of the measure is unlikely to affect theoretical and practical inferences. All models adjusted for the pandemic alert level because the treatment wave (NZAVS time 11) occurred during New Zealand's COVID-19 pandemic. The pandemic is not a "confounder" because a confounder must be related to the treatment and the outcome. At the end of the study, all participants had been exposed to the pandemic.  However, to satisfy the causal consistency assumption, all treatments must be conditionally equivalent within levels of all covariates [@vanderweele2013]. Because COVID affected the ability or willingness of individuals to attend religious service, we included the lockdown condition as a covariate [@sibley2021]. To better enable conditional independence within levels of the treatment variable, we conditioned on the lead value of COVID-alert level at baseline. To mitigate systematic biases arising from attrition and missingness, the `lmtp` package uses inverse probability of censoring weights, which were used when estimating the causal effects of the exposure on the outcome. 






### Binary Transition Table for The Treatment


```{r}
#| label: tbl-transition-tablegain
#| tbl-cap: "Transition table for stability and change in regular religious service (4x per month) between baseline and treatment wave."
#| eval: true
#| include: true
#| echo: false
transition_table_binary_gain$table
```


@tbl-transition-tablegain presents a transition matrix to evaluate treatment shifts between baseline and treatment wave. Here, we focus on the shift from/to monthly attendance at four or more visits per month. Entries along the diagonal (in bold) indicate the number of individuals who **stayed** in their initial state. By contrast, the off-diagonal shows the transitions from the initial state (bold) to another state in the following wave (off diagonal). Thus the cell located at the intersection of row $i$ and column $j$, where $i \neq j$, gives us the counts of individuals moving from state $i$ to state $j$.










```{r}
#| label: tbl-transition-tableloss
#| tbl-cap:  "Transition table for stability and change in zero religious service (0 x per month) between baseline and treatment wave."
#| eval: true
#| include: true
#| echo: false
transition_table_binary_zero$table
```


@tbl-transition-tableloss presents a transition matrix to evaluate treatment shifts between baseline and treatment wave. Here, we focus on the shift from/to zero religious service attendance. Again, entries along the diagonal (in bold) indicate the number of individuals who **stayed** in their initial state. By contrast, the off-diagonal shows the transitions from the initial state (bold) to another state in the following wave (off diagonal). Thus the cell located at the intersection of row $i$ and column $j$, where $i \neq j$, gives us the counts of individuals moving from state $i$ to state $j$.




### Imbalance of Confounding Covariates Treatments 


@fig-match_1 shows imbalance of covariates on the treatment at the treatment wave. The variable on which there is strongest imbalance is the baseline measure of religious service attendance. It is important to adjust for this measure both for confounding control and to better estimate an incident exposure effect for the religious service at the treatment wave (in contrast to merely estimating a prevalence effect). See @vanderweele2020.


```{r}
#| label: fig-match_1
#| fig-cap: "This figure shows the imbalance in covariates on the treatment"
#| eval: true
#| include: true
#| echo: false
#| fig-width: 10
#| fig-height: 10
love_plot_one
```




##  Appendix D: Baseline and End of Study Outcome Statistics {#appendix-outcomes}




```{r}
#| label: tbl-table-outcomes
#| tbl-cap: "Outcomes at baseline and end-of-study"
#| eval: true
#| include: true
#| echo: false
table_outcomes |>  kbl(format = "latex", booktabs = TRUE)
```






@tbl-table-outcomes presents baseline and end-of-study descriptive statistics for the outcome variables.  




{{< pagebreak >}}






## References {.appendix}

























